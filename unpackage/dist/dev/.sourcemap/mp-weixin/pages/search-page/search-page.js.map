{"version":3,"sources":["uni-app:///main.js","webpack:////Users/zhengheci/hlshop/mall4uni/pages/search-page/search-page.vue?7000","webpack:////Users/zhengheci/hlshop/mall4uni/pages/search-page/search-page.vue?c020","webpack:////Users/zhengheci/hlshop/mall4uni/pages/search-page/search-page.vue?027f","webpack:////Users/zhengheci/hlshop/mall4uni/pages/search-page/search-page.vue?8b47","uni-app:///pages/search-page/search-page.vue","webpack:////Users/zhengheci/hlshop/mall4uni/pages/search-page/search-page.vue?45f7","webpack:////Users/zhengheci/hlshop/mall4uni/pages/search-page/search-page.vue?2898"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","hotSearchList","prodName","recentSearch","components","props","onLoad","onReady","onShow","url","method","number","shopId","sort","callBack","ths","http","onHide","onUnload","onPullDownRefresh","onReachBottom","onShareAppMessage","methods","getRecentSearch","toSearchProdPage","uni","clearSearch","goBackIndex","getSearchContent","onHistSearch"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,mBAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAwH;AACxH;AAC+D;AACL;AACa;;;AAGvE;AAC6M;AAC7M,gBAAgB,iNAAU;AAC1B,EAAE,iFAAM;AACR,EAAE,sFAAM;AACR,EAAE,+FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,0FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACnBA;AAAA;AAAA;AAAA;AAA0zB,CAAgB,yyBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC+C90B;AACA,WAAW,mBAAO,CAAC,6BAAqB;AAAxC,eAEA;EACAC;IACA;MACAC;MACAC;MACAC;IACA;EACA;EAEAC;EACAC;EAEA;AACA;AACA;EACAC;EAEA;AACA;AACA;EACAC;EAEA;AACA;AACA;EACAC;IACA;;IAEA;MACAC;MACAC;MACAV;QACAW;QACAC;QACAC;MACA;MACAC;QACAC;UACAd;QACA;MACA;IACA;IACAe;;IAEA;EACA;EAEA;AACA;AACA;EACAC;IACA;EACA;EAEA;AACA;AACA;EACAC;EAEA;AACA;AACA;EACAC;EAEA;AACA;AACA;EACAC;EAEA;AACA;AACA;EACAC;EACAC;IACA;AACA;AACA;IACAC;MACA;MACA;QACApB;MACA;IACA;IAEA;AACA;AACA;IACAqB;MAAA;MACA;QACA;QACA;QACArB;UAAA;QAAA;QACAA;QAEA;UACAA;QACA;QAEAsB;;QAEAA;UACAhB;QACA;MACA;IACA;IAEA;AACA;AACA;IACAiB;MACAD;MACA;IACA;IACA;IACAE;MACAF;MAAA,CACA;IACA;IACA;IACAG;MACA;QACA1B;MACA;IACA;;IACA;IACA2B;MACA;MACA;QACA3B;MACA;MACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;ACvLA;AAAA;AAAA;AAAA;AAAiqC,CAAgB,smCAAG,EAAC,C;;;;;;;;;;;ACArrC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/search-page/search-page.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/search-page/search-page.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./search-page.vue?vue&type=template&id=3485b2b0&\"\nvar renderjs\nimport script from \"./search-page.vue?vue&type=script&lang=js&\"\nexport * from \"./search-page.vue?vue&type=script&lang=js&\"\nimport style0 from \"./search-page.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/search-page/search-page.vue\"\nexport default component.exports","export * from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./search-page.vue?vue&type=template&id=3485b2b0&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 = _vm.hotSearchList && _vm.hotSearchList.length\n  var g1 = _vm.recentSearch && _vm.recentSearch.length\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0,\n        g1: g1,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./search-page.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./search-page.vue?vue&type=script&lang=js&\"","<template>\n<!--pages/search-page/search-page.wxml-->\n<view class=\"container\">\n\n  <!-- 搜索框 -->\n  <view class=\"search-bar\">\n    <view class=\"search-box\">\n      <input placeholder=\"输入关键字搜索\" class=\"sear-input\" confirm-type=\"search\" @confirm=\"toSearchProdPage\" @input=\"getSearchContent\" :value=\"prodName\"></input>\n      <image src=\"/static/images/icon/search.png\" class=\"search-img\"></image>\n    </view>\n    <text class=\"search-hint\" @tap=\"goBackIndex\">取消</text>\n  </view>\n\n  <view class=\"search-display\">\n    <!-- 热门搜索 -->\n    <view class=\"hot-search\">\n      <view class=\"title-text\">\n        热门搜索\n      </view>\n      <view v-if=\"hotSearchList && hotSearchList.length\" class=\"hot-search-tags\">\n       <block v-for=\"(item, index) in hotSearchList\" :key=\"index\">\n        <text class=\"tags\" @tap=\"onHistSearch\" :data-name=\"item.content\">{{item.title}}</text>\n        </block> \n      </view>\n      <view v-else class=\"search-tit-empty\">暂无数据</view>\n    \n    </view>\n\n    <!-- 搜索历史 -->\n    <view v-if=\"recentSearch && recentSearch.length\" class=\"history-search\">\n      <view class=\"title-text history-line\">\n        搜索历史\n        <view class=\"clear-history\">\n          <image src=\"/static/images/icon/clear-his.png\" @tap=\"clearSearch\"></image>\n        </view>\n      </view>\n      <block v-for=\"(item, index) in recentSearch\" :key=\"index\">\n        <view class=\"his-search-tags\">\n          <text class=\"tags\" @tap=\"onHistSearch\" :data-name=\"item\">{{item}}</text>\n        </view>\n      </block>\n    </view>\n  </view>\n</view>\n</template>\n\n<script>\n// pages/search-page/search-page.js\nvar http = require(\"../../utils/http.js\");\n\nexport default {\n  data() {\n    return {\n      hotSearchList: [],\n      prodName: \"\",\n      recentSearch: []\n    };\n  },\n\n  components: {},\n  props: {},\n\n  /**\n   * 生命周期函数--监听页面加载\n   */\n  onLoad: function (options) {},\n\n  /**\n   * 生命周期函数--监听页面初次渲染完成\n   */\n  onReady: function () {},\n\n  /**\n   * 生命周期函数--监听页面显示\n   */\n  onShow: function () {\n    var ths = this; //热门搜索\n\n    var params = {\n      url: \"/search/hotSearchByShopId\",\n      method: \"GET\",\n      data: {\n        number: 10,\n        shopId: 1,\n        sort: 1\n      },\n      callBack: function (res) {\n        ths.setData({\n          hotSearchList: res\n        });\n      }\n    };\n    http.request(params); // 获取历史搜索\n\n    this.getRecentSearch();\n  },\n\n  /**\n   * 生命周期函数--监听页面隐藏\n   */\n  onHide: function () {\n\t\tthis.prodName = ''\n\t},\n\n  /**\n   * 生命周期函数--监听页面卸载\n   */\n  onUnload: function () {},\n\n  /**\n   * 页面相关事件处理函数--监听用户下拉动作\n   */\n  onPullDownRefresh: function () {},\n\n  /**\n   * 页面上拉触底事件的处理函数\n   */\n  onReachBottom: function () {},\n\n  /**\n   * 用户点击右上角分享\n   */\n  onShareAppMessage: function () {},\n  methods: {\n    /**\n      * 获取历史搜索\n      */\n    getRecentSearch: function () {\n      let recentSearch = uni.getStorageSync('recentSearch');\n      this.setData({\n        recentSearch\n      });\n    },\n\n    /**\n     * 搜索提交\n     */\n    toSearchProdPage: function () {\n      if (this.prodName.trim()) {\n        // 记录最近搜索\n        let recentSearch = uni.getStorageSync('recentSearch') || [];\n        recentSearch = recentSearch.filter(item => item !== this.prodName);\n        recentSearch.unshift(this.prodName);\n\n        if (recentSearch.length > 10) {\n          recentSearch.pop();\n        }\n\n        uni.setStorageSync('recentSearch', recentSearch); // 跳转到商品列表页\n\n        uni.navigateTo({\n          url: '/pages/search-prod-show/search-prod-show?prodName=' + this.prodName\n        });\n      }\n    },\n\n    /**\n     * 清空搜索历史\n     */\n    clearSearch: function () {\n      uni.removeStorageSync('recentSearch');\n      this.getRecentSearch();\n    },\n    // 返回首页\n    goBackIndex: function () {\n      uni.navigateBack({// url: '/pages/search-page/search-page',\n      });\n    },\n    //输入商品名获取数据 || 绑定输入值\n    getSearchContent: function (e) {\n      this.setData({\n        prodName: e.detail.value\n      }); // this.data.prodName=e.detail.value\n    },\n    //点击搜素历史\n    onHistSearch: function (e) {\n      var name = e.currentTarget.dataset.name;\n      this.setData({\n        prodName: name\n      });\n      this.toSearchProdPage();\n    }\n  }\n};\n</script>\n<style>\n@import \"./search-page.css\";\n</style>","import mod from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./search-page.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./search-page.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1701737594013\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}