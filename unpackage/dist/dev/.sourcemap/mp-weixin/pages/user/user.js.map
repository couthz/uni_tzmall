{"version":3,"sources":["uni-app:///main.js",null,"webpack:////Users/zhengheci/hlshop/mall4uni/pages/user/user.vue?1316","webpack:////Users/zhengheci/hlshop/mall4uni/pages/user/user.vue?dc2a","webpack:////Users/zhengheci/hlshop/mall4uni/pages/user/user.vue?ff10","uni-app:///pages/user/user.vue","webpack:////Users/zhengheci/hlshop/mall4uni/pages/user/user.vue?b960","webpack:////Users/zhengheci/hlshop/mall4uni/pages/user/user.vue?ab7e"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","orderAmount","sts","collectionCount","isAuthInfo","loginResult","picDomain","components","props","onLoad","onReady","onShow","console","ths","uni","url","method","callBack","http","onHide","onUnload","onPullDownRefresh","onReachBottom","onShareAppMessage","methods","toDistCenter","icon","title","toCouponCenter","toMyCouponPage","handleTips","toAddressList","toBindingPhone","toOrderListPage","showCollectionCount","myCollectionHandle","toLogin","logout","util","setTimeout"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,aAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAiH;AACjH;AACwD;AACL;AACa;;;AAGhE;AAC6M;AAC7M,gBAAgB,iNAAU;AAC1B,EAAE,0EAAM;AACR,EAAE,+EAAM;AACR,EAAE,wFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,mFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACpBA;AAAA;AAAA;AAAA;AAAmzB,CAAgB,kyBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACqIv0B;AACA,WAAW,mBAAO,CAAC,6BAAqB;AACxC,WAAW,mBAAO,CAAC,6BAAqB;AACxC,aAAa,mBAAO,CAAC,+BAAuB;AAA5C,eAEA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EAEAC;EACAC;EAEA;AACA;AACA;EACAC;EAEA;AACA;AACA;EACAC;EAEA;AACA;AACA;EACAC;IACA;IACA;IACAC;IACAC;MACAR;MACA;IACA;;IACA;MACAQ;QACAT;MACA;IACA;MACAS;QACAT;MACA;IACA;IACA;MACAU;MACA;QACAC;QACAC;QACAhB;QACAiB;UACAH;UACAD;YACAZ;UACA;QACA;MACA;MACAiB;MACA;IACA;EACA;EAEA;AACA;AACA;EACAC;EAEA;AACA;AACA;EACAC;EAEA;AACA;AACA;EACAC;EAEA;AACA;AACA;EACAC;EAEA;AACA;AACA;EACAC;EACAC;IACAC;MACAX;QACAY;QACAC;MACA;IACA;IACAC;MACAd;QACAY;QACAC;MACA;IACA;IACAE;MACAf;QACAY;QACAC;MACA;IACA;IACAG;MACAhB;QACAY;QACAC;MACA;IACA;IACAI;MACAjB;QACAC;MACA;IACA;IACA;IACAiB;MACAlB;QACAC;MACA;IACA;IACAkB;MACA;MACAnB;QACAC;MACA;IACA;IAEA;AACA;AACA;IACAmB;MACA;MACApB;MACA;QACAC;QACAC;QACAhB;QACAiB;UACAH;UACAD;YACAV;UACA;QACA;MACA;MACAe;IACA;IAEA;AACA;AACA;IACAiB;MACA;MACA;MACA;MAEA;QACApB;MACA;MAEAD;QACAC;MACA;IACA;IAEA;AACA;AACA;IACAqB;MACAtB;QACAC;MACA;IACA;IAEA;AACA;AACA;IACAsB;MAAA;MACA;MACAnB;QACAH;QACAC;QACAC;UACAqB;UAEAxB;UACAA;;UAEA;UACAA;YACAa;YACAD;UACA;UAEA;YACAzB;UACA;UACAsC;YACAzB;cACAC;YACA;UACA;QACA;MACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;AC1VA;AAAA;AAAA;AAAA;AAA0pC,CAAgB,+lCAAG,EAAC,C;;;;;;;;;;;ACA9qC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/user/user.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/user/user.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./user.vue?vue&type=template&id=80842834&\"\nvar renderjs\nimport script from \"./user.vue?vue&type=script&lang=js&\"\nexport * from \"./user.vue?vue&type=script&lang=js&\"\nimport style0 from \"./user.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/user/user.vue\"\nexport default component.exports","export * from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./user.vue?vue&type=template&id=80842834&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 =\n    _vm.isAuthInfo && _vm.loginResult.pic\n      ? _vm.loginResult.pic.indexOf(\"http\")\n      : null\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./user.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./user.vue?vue&type=script&lang=js&\"","<template>\n  <!--pages/user/user.wxml-->\n  <view class=\"container\">\n\n    <view class=\"userinfo\" v-if=\"isAuthInfo\">\n      <view class=\"userinfo-con\">\n        <view class=\"userinfo-avatar\">\n          <!-- <open-data type=\"userAvatarUrl\"></open-data> -->\n          <image\n            :src=\"\n              loginResult.pic\n                ? loginResult.pic.indexOf('http') === -1\n                  ? picDomain + loginResult.pic\n                  : loginResult.pic\n                : '../../static/images/icon/head04.png'\n            \"\n          ></image>\n        </view>\n        <view class=\"userinfo-name\">\n          <view>{{\n            loginResult.nickName ? loginResult.nickName : \"用户昵称\"\n          }}</view>\n          <!-- <open-data type=\"userNickName\"></open-data> -->\n        </view>\n      </view>\n    </view>\n\n    <view class=\"userinfo-none\" v-if=\"!isAuthInfo\">\n      <view class=\"default-pic\" @tap=\"toLogin\">\n        <image src=\"../../static/images/icon/head04.png\"></image>\n      </view>\n      <view class=\"none-login\" @tap=\"toLogin\">\n        <button class=\"unlogin\">未登录</button>\n        <button class=\"click-login\">点击登录账号</button>\n      </view>\n    </view>\n    <!-- end 用户信息 -->\n\n    <view class=\"list-cont\">\n      <!-- 订单状态 -->\n      <view class=\"total-order\">\n        <view class=\"order-tit\">\n          <text style=\"font-weight: bold\">我的订单</text>\n          <view class=\"checkmore\" @tap=\"toOrderListPage\" data-sts=\"0\">\n            <text>查看全部 </text>\n            <text class=\"arrowhead\"></text>\n          </view>\n        </view>\n        <view class=\"procedure\">\n          <view class=\"items\" @tap=\"toOrderListPage\" data-sts=\"1\">\n            <image src=\"/static/images/icon/toPay.png\"></image>\n            <text>待支付</text>\n            <text class=\"num-badge\" v-if=\"orderAmount.unPay > 0\">{{\n              orderAmount.unPay\n            }}</text>\n          </view>\n          <view class=\"items\" @tap=\"toOrderListPage\" data-sts=\"2\">\n            <image src=\"/static/images/icon/toDelivery.png\"></image>\n            <text>待发货</text>\n            <text class=\"num-badge\" v-if=\"orderAmount.payed > 0\">{{\n              orderAmount.payed\n            }}</text>\n          </view>\n          <view class=\"items\" @tap=\"toOrderListPage\" data-sts=\"3\">\n            <image src=\"/static/images/icon/toTake.png\"></image>\n            <text>待收货</text>\n            <text class=\"num-badge\" v-if=\"orderAmount.consignment > 0\">{{\n              orderAmount.consignment\n            }}</text>\n          </view>\n          <view class=\"items\" @tap=\"toOrderListPage\" data-sts=\"5\">\n            <image src=\"/static/images/icon/toComment.png\"></image>\n            <text>已完成</text>\n          </view>\n        </view>\n      </view>\n      <!--end 订单状态 -->\n\n      <view class=\"prod-col\">\n        <view class=\"col-item\" @tap=\"myCollectionHandle\">\n          <view v-if=\"loginResult\" class=\"num\">{{ collectionCount }}</view>\n          <view v-else class=\"num\">--</view>\n          <view class=\"tit\">我的收藏</view>\n        </view>\n        <view class=\"col-item\" @tap=\"handleTips\">\n          <view v-if=\"loginResult\" class=\"num\">5</view>\n          <view v-else class=\"num\">--</view>\n          <view class=\"tit\">我的消息</view>\n        </view>\n        <view class=\"col-item\" @tap=\"handleTips\">\n          <view v-if=\"loginResult\" class=\"num\">3</view>\n          <view v-else class=\"num\">--</view>\n          <view class=\"tit\">我的足迹</view>\n        </view>\n      </view>\n\n      <view class=\"my-menu\">\n        <view class=\"memu-item\" @tap=\"toDistCenter\">\n          <view class=\"i-name\">\n            <image src=\"/static/images/icon/promotion.png\"></image>\n            <text>分销中心</text>\n          </view>\n          <view class=\"arrowhead\"></view>\n        </view>\n        <view class=\"memu-item\" @tap=\"toCouponCenter\">\n          <view class=\"i-name\">\n            <image src=\"/static/images/icon/getCoupon.png\"></image>\n            <text>领券中心</text>\n          </view>\n          <view class=\"arrowhead\"></view>\n        </view>\n        <view class=\"memu-item\" @tap=\"toMyCouponPage\">\n          <view class=\"i-name\">\n            <image src=\"/static/images/icon/myCoupon.png\"></image>\n            <text>我的优惠券</text>\n          </view>\n          <view class=\"arrowhead\"></view>\n        </view>\n        <view class=\"memu-item\" @tap=\"toAddressList\">\n          <view class=\"i-name\">\n            <image src=\"/static/images/icon/myAddr.png\"></image>\n            <text>收货地址</text>\n          </view>\n          <view class=\"arrowhead\"></view>\n        </view>\n      </view>\n      <!--end 列表项 -->\n\n    </view>\n  </view>\n</template>\n\n<script>\n// pages/user/user.js\nvar http = require(\"../../utils/http.js\");\nvar util = require(\"../../utils/util.js\");\nvar config = require(\"../../utils/config.js\");\n\nexport default {\n  data() {\n    return {\n      orderAmount: \"\",\n      sts: \"\",\n      collectionCount: 0,\n      isAuthInfo: false,\n      loginResult: \"\",\n      picDomain: config.picDomain,\n    };\n  },\n\n  components: {},\n  props: {},\n\n  /**\n   * 生命周期函数--监听页面加载\n   */\n  onLoad: function (options) {},\n\n  /**\n   * 生命周期函数--监听页面初次渲染完成\n   */\n  onReady: function () {},\n\n  /**\n   * 生命周期函数--监听页面显示\n   */\n  onShow: function () {\n    //加载订单数字\n    var ths = this; // var status = ths.data.status\n    console.log(uni.getStorageSync(\"loginResult\"));\n    ths.setData({\n      loginResult: uni.getStorageSync(\"loginResult\"),\n      // isAuthInfo: Boolean(wx.getStorageSync('loginResult').userId),\n    });\n    if (ths.loginResult) {\n      ths.setData({\n        isAuthInfo: true,\n      });\n    } else {\n      ths.setData({\n        isAuthInfo: false,\n      });\n    }\n    if (ths.isAuthInfo) {\n      uni.showLoading();\n      var params = {\n        url: \"/p/myOrder/orderCount\",\n        method: \"GET\",\n        data: {},\n        callBack: function (res) {\n          uni.hideLoading();\n          ths.setData({\n            orderAmount: res,\n          });\n        },\n      };\n      http.request(params);\n      this.showCollectionCount();\n    }\n  },\n\n  /**\n   * 生命周期函数--监听页面隐藏\n   */\n  onHide: function () {},\n\n  /**\n   * 生命周期函数--监听页面卸载\n   */\n  onUnload: function () {},\n\n  /**\n   * 页面相关事件处理函数--监听用户下拉动作\n   */\n  onPullDownRefresh: function () {},\n\n  /**\n   * 页面上拉触底事件的处理函数\n   */\n  onReachBottom: function () {},\n\n  /**\n   * 用户点击右上角分享\n   */\n  onShareAppMessage: function () {},\n  methods: {\n    toDistCenter: function () {\n      uni.showToast({\n        icon: \"none\",\n        title: \"该功能尚未开发\",\n      });\n    },\n    toCouponCenter: function () {\n      uni.showToast({\n        icon: \"none\",\n        title: \"该功能尚未开发\",\n      });\n    },\n    toMyCouponPage: function () {\n      uni.showToast({\n        icon: \"none\",\n        title: \"该功能尚未开发\",\n      });\n    },\n    handleTips: function () {\n      uni.showToast({\n        icon: \"none\",\n        title: \"该功能尚未开发\",\n      });\n    },\n    toAddressList: function () {\n      uni.navigateTo({\n        url: \"/pages/delivery-address/delivery-address\",\n      });\n    },\n    // 跳转绑定手机号\n    toBindingPhone: function () {\n      uni.navigateTo({\n        url: \"/pages/binding-phone/binding-phone\",\n      });\n    },\n    toOrderListPage: function (e) {\n      var sts = e.currentTarget.dataset.sts;\n      uni.navigateTo({\n        url: \"/pages/orderList/orderList?sts=\" + sts,\n      });\n    },\n\n    /**\n     * 查询所有的收藏量\n     */\n    showCollectionCount: function () {\n      var ths = this;\n      uni.showLoading();\n      var params = {\n        url: \"/p/user/collection/count\",\n        method: \"GET\",\n        data: {},\n        callBack: function (res) {\n          uni.hideLoading();\n          ths.setData({\n            collectionCount: res,\n          });\n        },\n      };\n      http.request(params);\n    },\n\n    /**\n     * 我的收藏跳转\n     */\n    myCollectionHandle: function () {\n      var url = \"/pages/prod-classify/prod-classify?sts=5\";\n      var id = 0;\n      var title = \"我的收藏商品\";\n\n      if (id) {\n        url += \"&tagid=\" + id + \"&title=\" + title;\n      }\n\n      uni.navigateTo({\n        url: url,\n      });\n    },\n\n    /**\n     * 去登陆\n     */\n    toLogin: function () {\n      uni.navigateTo({\n      \turl: \"../accountLogin/accountLogin\"\n      })\n    },\n\n    /**\n     * 退出登录\n     */\n    logout: function () {\n      // 请求退出登陆接口\n      http.request({\n        url: \"/logOut\",\n        method: \"post\",\n        callBack: (res) => {\n          util.removeTabBadge();\n\n          uni.removeStorageSync(\"loginResult\");\n          uni.removeStorageSync(\"token\");\n\n          // this.$Router.pushTab('/pages/index/index')\n          uni.showToast({\n            title: \"退出成功\",\n            icon: \"none\",\n          });\n\n          this.setData({\n            orderAmount: \"\",\n          });\n          setTimeout(() => {\n            uni.switchTab({\n              url: \"/pages/index/index\",\n            });\n          }, 1000);\n        },\n      });\n    },\n  },\n};\n</script>\n<style>\n@import \"./user.css\";\n</style>\n","import mod from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./user.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./user.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1701737754787\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}