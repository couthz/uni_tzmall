{"version":3,"sources":["uni-app:///main.js","webpack:////Users/zhengheci/hlshop/mall4uni/pages/orderList/orderList.vue?707b","webpack:////Users/zhengheci/hlshop/mall4uni/pages/orderList/orderList.vue?dec8","webpack:////Users/zhengheci/hlshop/mall4uni/pages/orderList/orderList.vue?6b01","webpack:////Users/zhengheci/hlshop/mall4uni/pages/orderList/orderList.vue?22e2","uni-app:///pages/orderList/orderList.vue","webpack:////Users/zhengheci/hlshop/mall4uni/pages/orderList/orderList.vue?a5c7","webpack:////Users/zhengheci/hlshop/mall4uni/pages/orderList/orderList.vue?284c","webpack:////Users/zhengheci/hlshop/mall4uni/wxs/number.wxs?ed19","webpack:////Users/zhengheci/hlshop/mall4uni/wxs/number.wxs?b364"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","list","current","pages","sts","components","props","onLoad","uni","ths","onReady","onShow","onHide","onUnload","onPullDownRefresh","onReachBottom","onShareAppMessage","methods","loadOrderData","url","method","page","size","params","status","callBack","http","onStsTap","toDeliveryPage","e","onCancelOrder","title","content","confirmColor","cancelColor","cancelText","confirmText","success","mask","onPayAgain","payType","orderNumbers","timeStamp","nonceStr","package","signType","paySign","fail","normalPay","icon","pay","onChangeOrderStatus","console","toOrderDetailPage","listIndex","onConfirmReceive","delOrderList","changeAddress","addrId","orderId"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,kBAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkT;AAClT;AAC6D;AACL;AACa;;;AAGrE;AAC6M;AAC7M,gBAAgB,iNAAU;AAC1B,EAAE,+EAAM;AACR,EAAE,gRAAM;AACR,EAAE,yRAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,oRAAU;AACZ;AACA;;AAEA;AAC8L;AAC9L,WAAW,2MAAM,iBAAiB,mNAAM;;AAExC;AACe,gF;;;;;;;;;;;;AC3Bf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC1BA;AAAA;AAAA;AAAA;AAAwzB,CAAgB,uyBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACuL50B,WAAW,mBAAO,CAAC,6BAAqB;AACxC,aAAa,mBAAO,CAAC,+BAAuB;AAC5C,UAAU,mBAAO,CAAC,6BAAoB;AAAtC,eAEA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EAEAC;EACAC;EAEA;AACA;AACA;EACAC;IACA;MACA;QACAH;MACA;MACA;IACA;MACA;IACA;IAEA;IAEAI;MACAC;IACA;EACA;EAEA;AACA;AACA;EACAC;EAEA;AACA;AACA;EACAC;EAEA;AACA;AACA;EACAC;EAEA;AACA;AACA;EACAC;IACAL;EACA;EAEA;AACA;AACA;EACAM;EAEA;AACA;AACA;EACAC;IACA;MACA;IACA;EACA;EAEA;AACA;AACA;EACAC;EACAC;IACA;AACA;AACA;IACAC;MACA;MACAV;;MAEA;QACAW;QACAC;QACApB;UACAqB;YACAnB;YACAoB;UACA;UACAC;YACA;YACAC;UACA;QACA;QACAC;UACA;UAEAxB;UAEAQ;YACAR;YACAE;YACAD;UACA;UACAM;QACA;MACA;MACAkB;IACA;IAEA;AACA;AACA;IACAC;MACA;MACA;QACA;MACA;MAEA;QACAvB;QACAH;QACAC;QACAC;MACA;MACA;IACA;IAEA;AACA;AACA;IACAyB;MACApB;QACAW,KACA,uDACAU;MACA;IACA;IAEA;AACA;AACA;IACAC;MACA;MACA;MACA;MACAtB;QACAuB;QACAC;QACAC;QACAC;QACAC;QACAC;QAEAC;UACA;YACA7B;cACA8B;YACA;YACA;YACA7B;YACAD;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;UACA;YACA;UAAA;QAEA;MACA;IACA;IAEA;AACA;AACA;IACA+B;MACA/B;QACA8B;MACA;MACA;QACAnB;QACAC;QACApB;UACAwC;UACAC;QACA;QACAhB;UACA;UACAjB;UACAA;YACAkC;YACAC;YACAC;YACAC;YACAC;YACAT;cACA7B;gBACAW,KACA,qDACAU;cACA;YACA;YACAkB;cACA;YAAA;UAEA;QACA;MACA;MACArB;IACA;IAEA;IACAsB;MACA;MACA;MACA;MACA;QACAX;UACA7B;YACAuB;YACAkB;UACA;UACA;UACAzC;YACAW,KACA;UACA;UACA;UACAV;QACA;QACAsC;UACA;UACAvC;YACAuB;YACAkB;UACA;QACA;MACA;MACAC;IACA;IAEAC;MACAC;MACA;MACAnD;MACA;QACAA;MACA;IACA;IAEA;AACA;AACA;IACAoD;MACA;MACA7C;QACAW,KACA,kDACAU,mCACA,gBACAyB;MACA;IACA;IAEA;AACA;AACA;IACAC;MACA;MACA/C;QACAuB;QACAC;QACAC;QAEAI;UACA;YACA7B;cACA8B;YACA;YACA;cACAnB;cACAC;cACApB;cACAyB;gBACA;gBACAhB;gBACAD;cACA;YACA;YACAkB;UACA;YACA;UAAA;QAEA;MACA;IACA;IACA;IACA8B;MACA;MACAhD;QACAuB;QACAC;QACAC;QAEAI;UACA;YACA;YACA7B;YACA;cACAW;cACAC;cACApB;cACAyB;gBACAhB;gBACAD;cACA;YACA;YACAkB;UACA;YACA0B;UACA;QACA;MACA;IACA;IAEAK;MACA;MACA;MAEAjD;QACAW,KACA,+CACAuC,SACA,cACAC;MACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;ACrhBA;AAAA;AAAA;AAAA;AAA+pC,CAAgB,omCAAG,EAAC,C;;;;;;;;;;;ACAnrC;AACA,OAAO,KAAU,EAAE,kBAKd;;;;;;;;;;;;;ACNL;AAAA;AAAA,wCAA4V,CAAgB,4ZAAG,EAAC,C;;;;;;;;;;;;ACAhX;AAAe;AACf;AACA;AACA;;AAEA,M","file":"pages/orderList/orderList.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/orderList/orderList.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./orderList.vue?vue&type=template&id=40959460&filter-modules=eyJ3eHMiOnsidHlwZSI6InNjcmlwdCIsImNvbnRlbnQiOiIiLCJzdGFydCI6NjA2MCwiYXR0cnMiOnsibW9kdWxlIjoid3hzIiwibGFuZyI6Ind4cyIsInNyYyI6Ii4uLy4uL3d4cy9udW1iZXIud3hzIn0sImVuZCI6NjA2MH19&\"\nvar renderjs\nimport script from \"./orderList.vue?vue&type=script&lang=js&\"\nexport * from \"./orderList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./orderList.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\n/* custom blocks */\nimport block0 from \"../../wxs/number.wxs?vue&type=custom&index=0&blockType=script&issuerPath=%2FUsers%2Fzhengheci%2Fhlshop%2Fmall4uni%2Fpages%2ForderList%2ForderList.vue&module=wxs&lang=wxs\"\nif (typeof block0 === 'function') block0(component)\n\ncomponent.options.__file = \"pages/orderList/orderList.vue\"\nexport default component.exports","export * from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./orderList.vue?vue&type=template&id=40959460&filter-modules=eyJ3eHMiOnsidHlwZSI6InNjcmlwdCIsImNvbnRlbnQiOiIiLCJzdGFydCI6NjA2MCwiYXR0cnMiOnsibW9kdWxlIjoid3hzIiwibGFuZyI6Ind4cyIsInNyYyI6Ii4uLy4uL3d4cy9udW1iZXIud3hzIn0sImVuZCI6NjA2MH19&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 = _vm.list.length\n  var l0 = _vm.__map(_vm.list, function (item, index) {\n    var $orig = _vm.__get_orig(item)\n    var g1 = item.deleteStatus === 0 ? item.orderItems.length : null\n    return {\n      $orig: $orig,\n      g1: g1,\n    }\n  })\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0,\n        l0: l0,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./orderList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./orderList.vue?vue&type=script&lang=js&\"","<template>\n  <!--pages/orderList/orderList.wxml-->\n\n  <view class=\"container\">\n    <!-- 头部菜单 -->\n    <view class=\"order-tit\">\n      <text @tap=\"onStsTap\" data-sts=\"0\" :class=\"sts == 0 ? 'on' : ''\"\n        >全部</text\n      >\n      <text @tap=\"onStsTap\" data-sts=\"100\" :class=\"sts == 100 ? 'on' : ''\"\n        >待支付</text\n      >\n      <text @tap=\"onStsTap\" data-sts=\"101\" :class=\"sts == 101 ? 'on' : ''\"\n        >待发货</text\n      >\n      <text @tap=\"onStsTap\" data-sts=\"102\" :class=\"sts == 102 ? 'on' : ''\"\n        >待收货</text\n      >\n      <text @tap=\"onStsTap\" data-sts=\"103\" :class=\"sts == 103 ? 'on' : ''\"\n        >待评价</text\n      >\n    </view>\n    <!-- end 头部菜单 -->\n    <view class=\"main\">\n      <view class=\"empty\" v-if=\"list.length === 0\"> 还没有任何相关订单 </view>\n      <!-- 订单列表 -->\n      <block v-for=\"(item, index) in list\" :key=\"index\">\n        <view v-if=\"item.deleteStatus === 0\" class=\"prod-item\">\n          <view class=\"order-num\">\n            <text class=\"order-num-title\"\n              >订单编号：{{ item.orderNumber }}</text\n            >\n            <view class=\"order-state\">\n              <text class=\"order-sts red\">{{\n                item.status == 100\n                  ? \"待支付\"\n                  : item.status == 101\n                  ? \"待发货\"\n                  : item.status == 102\n                  ? \"待收货\"\n                  : item.status == 105\n                  ? \"部分发货\"\n                  : item.status == 106\n                  ? \"支付处理中\"\n                  : item.status == 200\n                  ? \"交易关闭\"\n                  : \"交易成功\"\n              }}</text>\n\n              <view\n                class=\"clear-btn\"\n                v-if=\"item.status == 104 || item.status == 200\"\n              >\n                <image\n                  src=\"/static/images/icon/clear-his.png\"\n                  class=\"clear-list-btn\"\n                  @tap=\"delOrderList\"\n                  :data-ordernum=\"item.orderNumber\"\n                ></image>\n              </view>\n            </view>\n          </view>\n\n          <!-- 商品列表 -->\n          <!-- 一个订单单个商品的显示 -->\n          <block v-if=\"item.orderItems.length == 1\">\n            <block v-for=\"(prod, index2) in item.orderItems\" :key=\"index2\">\n              <view>\n                <view\n                  class=\"item-cont\"\n                  @tap=\"toOrderDetailPage\"\n                  :data-ordernum=\"item.orderNumber\"\n                  :data-listindex=\"index\"\n                >\n                  <view class=\"prod-pic\">\n                    <image :src=\"prod.pic\"></image>\n                  </view>\n                  <view class=\"prod-info\">\n                    <view class=\"prodname\">\n                      {{ prod.prodName }}\n                    </view>\n                    <view class=\"prod-info-cont\">{{ prod.skuName }}</view>\n                    <view class=\"price-nums\">\n                      <text class=\"prodprice\"\n                        ><text class=\"symbol\">￥</text>\n                        <text class=\"big-num\">{{ prod.price }}</text>\n                      </text>\n                      <text class=\"prodcount\">x{{ prod.itemCount }}</text>\n                    </view>\n                  </view>\n                </view>\n              </view>\n            </block>\n          </block>\n          <!-- 一个订单多个商品时的显示 -->\n          <block v-else>\n            <view\n              class=\"item-cont\"\n              @tap=\"toOrderDetailPage\"\n              :data-ordernum=\"item.orderNumber\"\n            >\n              <scroll-view\n                scroll-x=\"true\"\n                scroll-left=\"0\"\n                scroll-with-animation=\"false\"\n                class=\"categories\"\n              >\n                <block v-for=\"(prod, index2) in item.orderItems\" :key=\"index2\">\n                  <view class=\"prod-pic\">\n                    <image :src=\"prod.pic\"></image>\n                  </view>\n                </block>\n              </scroll-view>\n            </view>\n          </block>\n\n          <view class=\"total-num\">\n            <text class=\"prodcount\">共1件商品</text>\n            <view class=\"prodprice\"\n              >合计：\n              <text class=\"symbol\">￥</text>\n              <text class=\"big-num\">{{ item.totalPay }}</text>\n            </view>\n          </view>\n          <!-- end 商品列表 -->\n          <view class=\"prod-foot\">\n            <view class=\"btn\">\n              <text\n                v-if=\"item.status == 100\"\n                class=\"button\"\n                @tap=\"onCancelOrder\"\n                :data-ordernum=\"item.orderNumber\"\n                :data-index=\"index\"\n                hover-class=\"none\"\n                >取消订单</text\n              >\n              <!-- <text class=\"button warn\" @tap :data-ordernum=\"item.orderNumber\" hover-class=\"none\">再次购买</text> -->\n              <text\n                v-if=\"item.status == 100\"\n                class=\"button warn\"\n                @tap=\"normalPay\"\n                :data-ordernum=\"item.orderNumber\"\n                :data-index=\"index\"\n                hover-class=\"none\"\n                >付款</text\n              >\n              <!-- <text\n                v-if=\"item.status == 101\"\n                class=\"button warn\"\n                @tap=\"changeAddress\"\n                :data-addrid=\"item.orderAddr.addrId\"\n                :data-orderid=\"item.orderId\"\n                hover-class=\"none\"\n                >修改地址</text\n              > -->\n              <text\n                v-if=\"item.status >= 102 && item.status <= 104\"\n                class=\"button\"\n                @tap=\"toDeliveryPage\"\n                :data-ordernum=\"item.orderNumber\"\n                hover-class=\"none\"\n                >查看物流</text\n              >\n              <text\n                v-if=\"item.status == 102\"\n                class=\"button warn\"\n                @tap=\"onConfirmReceive\"\n                :data-ordernum=\"item.orderNumber\"\n                hover-class=\"none\"\n                >确认收货</text\n              >\n            </view>\n          </view>\n        </view>\n      </block>\n    </view>\n  </view>\n  <!-- end 订单列表 -->\n</template>\n\n<script module=\"wxs\" lang=\"wxs\" src=\"../../wxs/number.wxs\"></script>\n\n<script>\nvar http = require(\"../../utils/http.js\");\nvar config = require(\"../../utils/config.js\");\nvar pay = require(\"../../utils/pay.js\");\n\nexport default {\n  data() {\n    return {\n      list: [],\n      current: 1,\n      pages: 0,\n      sts: 0,\n    };\n  },\n\n  components: {},\n  props: {},\n\n  /**\n   * 生命周期函数--监听页面加载\n   */\n  onLoad: function (options) {\n    if (options.sts) {\n      this.setData({\n        sts: options.sts,\n      });\n      this.loadOrderData(options.sts, 1);\n    } else {\n      this.loadOrderData(0, 1);\n    }\n\n    var ths = this;\n\n    uni.$on(\"onChangeOrderStatus\", function (data) {\n      ths.onChangeOrderStatus(data.index);\n    });\n  },\n\n  /**\n   * 生命周期函数--监听页面初次渲染完成\n   */\n  onReady: function () {},\n\n  /**\n   * 生命周期函数--监听页面显示\n   */\n  onShow: function () {},\n\n  /**\n   * 生命周期函数--监听页面隐藏\n   */\n  onHide: function () {},\n\n  /**\n   * 生命周期函数--监听页面卸载\n   */\n  onUnload: function () {\n    uni.$off(\"onChangeOrderStatus\", function (data) {});\n  },\n\n  /**\n   * 页面相关事件处理函数--监听用户下拉动作\n   */\n  onPullDownRefresh: function () {},\n\n  /**\n   * 页面上拉触底事件的处理函数\n   */\n  onReachBottom: function () {\n    if (this.current < this.pages) {\n      this.loadOrderData(this.sts, this.current + 1);\n    }\n  },\n\n  /**\n   * 用户点击右上角分享\n   */\n  onShareAppMessage: function () {},\n  methods: {\n    /**\n     * 加载订单数据\n     */\n    loadOrderData: function (sts, current) {\n      var ths = this;\n      uni.showLoading(); //加载订单列表\n\n      var params = {\n        url: \"/order/order/orderPage\",\n        method: \"POST\",\n        data: {\n          page: {\n            current: current,\n            size: 10,\n          },\n          params: {\n            // 定义你的请求参数\n            status: sts,\n          },\n        },\n        callBack: function (res) {\n          var list = ths.list;\n\n          list = list.concat(res.items);\n\n          ths.setData({\n            list: list,\n            pages: res.meta.totalPages,\n            current: res.meta.currentPage,\n          });\n          uni.hideLoading();\n        },\n      };\n      http.request(params);\n    },\n\n    /**\n     * 状态点击事件\n     */\n    onStsTap: function (e) {\n      var sts = e.currentTarget.dataset.sts;\n      if (this.sts === sts) {\n        return;\n      }\n\n      this.setData({\n        sts: sts,\n        list: [],\n        current: 1,\n        pages: 0,\n      });\n      this.loadOrderData(sts, 1);\n    },\n\n    /**\n     * 查看物流\n     */\n    toDeliveryPage: function (e) {\n      uni.navigateTo({\n        url:\n          \"/pages/express-delivery/express-delivery?orderNum=\" +\n          e.currentTarget.dataset.ordernum,\n      });\n    },\n\n    /**\n     * 取消订单\n     */\n    onCancelOrder: function (e) {\n      var index = e.currentTarget.dataset.index;\n      var ordernum = e.currentTarget.dataset.ordernum;\n      var ths = this;\n      uni.showModal({\n        title: \"\",\n        content: \"要取消此订单？\",\n        confirmColor: \"#3e62ad\",\n        cancelColor: \"#3e62ad\",\n        cancelText: \"否\",\n        confirmText: \"是\",\n\n        success(res) {\n          if (res.confirm) {\n            uni.showLoading({\n              mask: true,\n            });\n            //更新ui\n            ths.onChangeOrderStatus(index);\n            uni.hideLoading();\n            // var params = {\n            //   url: \"/p/myOrder/cancel/\" + ordernum,\n            //   method: \"PUT\",\n            //   data: {},\n            //   callBack: function (res) {\n            //     //console.log(res);\n            //     ths.loadOrderData(ths.sts, 1);\n            //     uni.hideLoading();\n            //   },\n            // };\n            // http.request(params);\n          } else if (res.cancel) {\n            //console.log('用户点击取消')\n          }\n        },\n      });\n    },\n\n    /**\n     * 付款\n     */\n    onPayAgain: function (e) {\n      uni.showLoading({\n        mask: true,\n      });\n      var params = {\n        url: \"/p/order/pay\",\n        method: \"POST\",\n        data: {\n          payType: 1,\n          orderNumbers: e.currentTarget.dataset.ordernum,\n        },\n        callBack: (res) => {\n          //console.log(res);\n          uni.hideLoading();\n          uni.requestPayment({\n            timeStamp: res.timeStamp,\n            nonceStr: res.nonceStr,\n            package: res.packageValue,\n            signType: res.signType,\n            paySign: res.paySign,\n            success: function () {\n              uni.navigateTo({\n                url:\n                  \"/pages/pay-result/pay-result?sts=1&orderNumbers=\" +\n                  e.currentTarget.dataset.ordernum,\n              });\n            },\n            fail: function (err) {\n              //console.log(\"支付失败\");\n            },\n          });\n        },\n      };\n      http.request(params);\n    },\n\n    //模拟支付，直接提交成功\n    normalPay: function (e) {\n      var ths = this;\n      var index = e.currentTarget.dataset.index;\n      var orderNumber = e.currentTarget.dataset.ordernum;\n      var callBackParams = {\n        success: () => {\n          uni.showToast({\n            title: \"支付成功\",\n            icon: \"none\",\n          });\n          //支付成功,且后台成功修改状态\n          uni.navigateTo({\n            url:\n              \"/pages/pay-result/pay-result?sts=1&orderNumber=\" + orderNumber,\n          });\n          //更新ui\n          ths.onChangeOrderStatus(index);\n        },\n        fail: () => {\n          //用户取消支付\n          uni.showToast({\n            title: \"支付取消\",\n            icon: \"none\",\n          });\n        },\n      };\n      pay.normalPay(orderNumber, callBackParams);\n    },\n\n    onChangeOrderStatus: function (index) {\n      console.log(\"删除列表项\", index);\n      var list = this.list;\n      list.splice(index, 1);\n      this.setData({\n        list: list,\n      });\n    },\n\n    /**\n     * 查看订单详情\n     */\n    toOrderDetailPage: function (e) {\n      var listIndex = e.currentTarget.dataset.listindex;\n      uni.navigateTo({\n        url:\n          \"/pages/order-detail/order-detail?orderNumber=\" +\n          e.currentTarget.dataset.ordernum +\n          \"&listIndex=\" +\n          listIndex,\n      });\n    },\n\n    /**\n     * 确认收货\n     */\n    onConfirmReceive: function (e) {\n      var ths = this;\n      uni.showModal({\n        title: \"\",\n        content: \"我已收到货？\",\n        confirmColor: \"#EC6817\",\n\n        success(res) {\n          if (res.confirm) {\n            uni.showLoading({\n              mask: true,\n            });\n            var params = {\n              url: \"/p/myOrder/receipt/\" + e.currentTarget.dataset.ordernum,\n              method: \"PUT\",\n              data: {},\n              callBack: function (res) {\n                //console.log(res);\n                ths.loadOrderData(ths.sts, 1);\n                uni.hideLoading();\n              },\n            };\n            http.request(params);\n          } else if (res.cancel) {\n            //console.log('用户点击取消')\n          }\n        },\n      });\n    },\n    //删除已完成||已取消的订单\n    delOrderList: function (e) {\n      var ths = this;\n      uni.showModal({\n        title: \"\",\n        content: \"确定要删除此订单吗？\",\n        confirmColor: \"#EC6817\",\n\n        success(res) {\n          if (res.confirm) {\n            var ordernum = e.currentTarget.dataset.ordernum;\n            uni.showLoading();\n            var params = {\n              url: \"/p/myOrder/\" + ordernum,\n              method: \"DELETE\",\n              data: {},\n              callBack: function (res) {\n                ths.loadOrderData(ths.sts, 1);\n                uni.hideLoading();\n              },\n            };\n            http.request(params);\n          } else if (res.cancel) {\n            console.log(\"用户点击取消\");\n          }\n        },\n      });\n    },\n\n    changeAddress: function (e) {\n      var addrId = e.currentTarget.dataset.addrid;\n      var orderId = e.currentTarget.dataset.orderid;\n\n      uni.navigateTo({\n        url:\n          \"/pages/order-address/order-address?addrId=\" +\n          addrId +\n          \"&orderId=\" +\n          orderId,\n      });\n    },\n  },\n};\n</script>\n<style>\n@import \"./orderList.css\";\n</style>\n","import mod from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./orderList.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./orderList.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1728895428074\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","import mod from \"-!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-filter-loader/index.js!./number.wxs?vue&type=custom&index=0&blockType=script&issuerPath=%2FUsers%2Fzhengheci%2Fhlshop%2Fmall4uni%2Fpages%2ForderList%2ForderList.vue&module=wxs&lang=wxs\"; export default mod; export * from \"-!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-filter-loader/index.js!./number.wxs?vue&type=custom&index=0&blockType=script&issuerPath=%2FUsers%2Fzhengheci%2Fhlshop%2Fmall4uni%2Fpages%2ForderList%2ForderList.vue&module=wxs&lang=wxs\"","export default function (Component) {\n       if(!Component.options.wxsCallMethods){\n         Component.options.wxsCallMethods = []\n       }\n       \n     }"],"sourceRoot":""}