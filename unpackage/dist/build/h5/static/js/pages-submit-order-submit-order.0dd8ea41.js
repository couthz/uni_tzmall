(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-submit-order-submit-order"],{"2fbf":function(t,e,i){"use strict";i.r(e);var a=i("d46f"),o=i("30b7");for(var n in o)["default"].indexOf(n)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(n);i("97bf");var r=i("f0c5"),s=Object(r["a"])(o["default"],a["b"],a["c"],!1,null,"7309cb92",null,!1,a["a"],void 0);e["default"]=s.exports},"30b7":function(t,e,i){"use strict";i.r(e);var a=i("33c1"),o=i.n(a);for(var n in a)["default"].indexOf(n)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(n);e["default"]=o.a},"33c1":function(t,e,i){"use strict";i("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("a9e3");var a=i("ef65"),o={data:function(){return{stsType:4}},components:{},props:{item:Object,type:Number,order:Boolean,canUse:Boolean,index:Number,showTimeType:Number},beforeMount:function(){},methods:{receiveCoupon:function(){var t=this,e=this.item.couponId;a.request({url:"/p/myCoupon/receive",method:"POST",data:e,callBack:function(){var e=t.item;e.canReceive=!1,t.setData({item:e})}})},checkCoupon:function(t){this.$emit("checkCoupon",{detail:{couponId:t.currentTarget.dataset.couponid}})},useCoupon:function(){var t="/pages/prod-classify/prod-classify?sts="+this.stsType,e=this.item.couponId;e&&(t+="&tagid="+e+"&title=优惠券活动商品"),uni.navigateTo({url:t})}}};e.default=o},"34f9":function(t,e,i){"use strict";e["a"]=function(t){(t.options.wxs||(t.options.wxs={}))["wxs"]=function(t){return t.exports={toPrice:function(t){return t||(t=0),t.toFixed(2)},parsePrice:function(t){return t||(t=0),t.toFixed(2).split(".")},array_contain:function(t,e){for(var i=0;i<t.length;i++)if(t[i]==e)return!0;return!1},props_contain:function(t,e,i,a,o){var n="";e[i]=a;for(var r=0;r<o.length;r++)n+=o[r]+":"+e[o[r]]+";";n=n.substring(0,n.length-1);for(var s=!1,d=0;d<t.length;d++)if(n==t[d]){s=!0;break}return s},parseDiscount:function(t){return 0==t?"满额减":1==t?"满件减":2==t?"满额折":3==t?"满件折":""},parseDiscountMsg:function(t,e,i){return 0==t?"购满"+e+"元减"+i+"元":1==t?"购满"+e+"件减"+i+"元":2==t?"购满"+e+"元打"+i+"折":3==t?"购满"+e+"件打"+i+"折":""}},t.exports}({exports:{}})}},4111:function(t,e,i){"use strict";i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){return a}));var a={coupon:i("2fbf").default},o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[i("v-uni-view",{staticClass:"container"},[i("v-uni-view",{staticClass:"submit-order"},[i("v-uni-view",{staticClass:"delivery-addr",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toAddrListPage.apply(void 0,arguments)}}},[t.userAddr?t._e():i("v-uni-view",{staticClass:"addr-bg"},[i("v-uni-view",{staticClass:"add-addr"},[i("v-uni-view",{staticClass:"plus-sign-img"},[i("v-uni-image",{attrs:{src:"/static/images/icon/plus-sign.png"}})],1),i("v-uni-text",[t._v("新增收货地址")])],1),i("v-uni-view",{staticClass:"arrow empty"})],1),t.userAddr?i("v-uni-view",{staticClass:"addr-bg whole"},[i("v-uni-view",{staticClass:"addr-icon"},[i("v-uni-image",{attrs:{src:"/static/images/icon/addr.png"}})],1),i("v-uni-view",{staticClass:"user-info"},[i("v-uni-text",{staticClass:"item"},[t._v(t._s(t.userAddr.receiver))]),i("v-uni-text",{staticClass:"item"},[t._v(t._s(t.userAddr.mobile))])],1),i("v-uni-view",{staticClass:"addr"},[t._v(t._s(t.userAddr.province)+t._s(t.userAddr.city)+t._s(t.userAddr.area)+t._s(t.userAddr.addr))]),i("v-uni-view",{staticClass:"arrow"})],1):t._e()],1),i("v-uni-view",{staticClass:"prod-item"},[t._l(t.orderItems,(function(e,a){return[i("v-uni-view",{key:a+"_0",staticClass:"item-cont"},[i("v-uni-view",{staticClass:"prod-pic"},[i("v-uni-view",{staticClass:"prod-pic-image",style:{backgroundImage:"url("+t.fullImagePath(e.pic)+")"}})],1),i("v-uni-view",{staticClass:"prod-info"},[i("v-uni-view",{staticClass:"prodname"},[t._v(t._s(e.prodName))]),i("v-uni-view",{staticClass:"prod-info-cont"},[t._v(t._s(e.skuName))]),i("v-uni-view",{staticClass:"price-nums"},[i("v-uni-text",{staticClass:"prodprice"},[i("v-uni-text",{staticClass:"symbol"},[t._v("￥")]),i("v-uni-text",{staticClass:"big-num"},[t._v(t._s(e.price))])],1),i("v-uni-text",{staticClass:"prodcount"},[t._v("x"+t._s(e.itemCount))])],1)],1)],1)]}))],2),i("v-uni-view",{staticClass:"order-msg"},[i("v-uni-view",{staticClass:"msg-item"},[i("v-uni-view",{staticClass:"item coupon",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.showCouponPopup.apply(void 0,arguments)}}},[i("v-uni-text",{staticClass:"item-tit"},[t._v("优惠券：")]),t.coupons.canUseCoupons?t._e():i("v-uni-text",{staticClass:"item-txt"},[t._v("暂无可用")]),i("v-uni-text",{staticClass:"coupon-btn"},[t._v(t._s(t.coupons.totalLength?t.coupons.totalLength:0)+"张")]),i("v-uni-text",{staticClass:"arrow"})],1),i("v-uni-view",{staticClass:"item"},[i("v-uni-text",[t._v("买家留言：")]),i("v-uni-input",{attrs:{placeholder:"给卖家留言"},model:{value:t.remarks,callback:function(e){t.remarks=e},expression:"remarks"}})],1)],1)],1),i("v-uni-view",{staticClass:"order-msg"},[i("v-uni-view",{staticClass:"msg-item"},[i("v-uni-view",{staticClass:"item"},[i("v-uni-view",{staticClass:"item-tit"},[t._v("订单总额：")]),i("v-uni-view",{staticClass:"item-txt price"},[i("v-uni-text",{staticClass:"symbol"},[t._v("￥")]),i("v-uni-text",{staticClass:"big-num"},[t._v(t._s(t.total))])],1)],1),i("v-uni-view",{staticClass:"item"},[i("v-uni-view",{staticClass:"item-tit"},[t._v("运费：")]),i("v-uni-view",{staticClass:"item-txt price"},[i("v-uni-text",{staticClass:"symbol"},[t._v("￥")]),i("v-uni-text",{staticClass:"big-num"},[t._v(t._s(t.transfee||0))])],1)],1),i("v-uni-view",{staticClass:"item"},[i("v-uni-view",{staticClass:"item-tit"},[t._v("优惠金额：")]),i("v-uni-view",{staticClass:"item-txt price"},[i("v-uni-text",{staticClass:"symbol"},[t._v("-￥")]),i("v-uni-text",{staticClass:"big-num"},[t._v(t._s(t.orderReduce))])],1)],1),i("v-uni-view",{staticClass:"item payment"},[i("v-uni-view",{staticClass:"item-txt price"},[t._v("小计："),i("v-uni-text",{staticClass:"symbol"},[t._v("￥")]),i("v-uni-text",{staticClass:"big-num"},[t._v(t._s(t.actualTotal))])],1)],1)],1)],1)],1),i("v-uni-view",{staticClass:"submit-order-footer"},[i("v-uni-view",{staticClass:"sub-order"},[i("v-uni-view",{staticClass:"item-txt"},[t._v("合计："),i("v-uni-view",{staticClass:"price"},[i("v-uni-text",{staticClass:"symbol"},[t._v("￥")]),i("v-uni-text",{staticClass:"big-num"},[t._v(t._s(t.actualTotal))])],1)],1)],1),i("v-uni-view",{staticClass:"footer-box",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toPay.apply(void 0,arguments)}}},[t._v("提交订单")])],1)],1),t.popupShow?i("v-uni-view",{staticClass:"popup-hide"},[i("v-uni-view",{staticClass:"popup-box"},[i("v-uni-view",{staticClass:"popup-tit"},[i("v-uni-text",[t._v("优惠券")]),i("v-uni-text",{staticClass:"close",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.closePopup.apply(void 0,arguments)}}})],1),i("v-uni-view",{staticClass:"coupon-tabs"},[i("v-uni-view",{class:"coupon-tab "+(1==t.couponSts?"on":""),attrs:{"data-sts":"1"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.changeCouponSts.apply(void 0,arguments)}}},[t._v("可用优惠券("+t._s(t.coupons.canUseCoupons.length?t.coupons.canUseCoupons.length:0)+")")]),i("v-uni-view",{class:"coupon-tab "+(2==t.couponSts?"on":""),attrs:{"data-sts":"2"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.changeCouponSts.apply(void 0,arguments)}}},[t._v("不可用优惠券("+t._s(t.coupons.unCanUseCoupons.length?t.coupons.unCanUseCoupons.length:0)+")")])],1),i("v-uni-view",{staticClass:"popup-cnt"},[1===t.couponSts?i("v-uni-view",[t._l(t.coupons.canUseCoupons,(function(e,a){return[i("coupon",{key:a+"_0",attrs:{item:e,order:"true",canUse:"true"},on:{checkCoupon:function(e){arguments[0]=e=t.$handleEvent(e),t.checkCoupon.apply(void 0,arguments)}}})]}))],2):t._e(),2===t.couponSts?i("v-uni-view",[t._l(t.coupons.unCanUseCoupons,(function(t,e){return[i("coupon",{key:e+"_0",attrs:{item:t,order:"true",canUse:"false"}})]}))],2):t._e(),i("v-uni-view",{staticClass:"botm-empty"})],1),1===t.couponSts?i("v-uni-view",{staticClass:"coupon-ok"},[i("v-uni-text",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.choosedCoupon.apply(void 0,arguments)}}},[t._v("确定")])],1):t._e()],1)],1):t._e()],1)},n=[]},4657:function(t,e,i){var a=i("b996");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var o=i("4f06").default;o("0d54f8c3",a,!0,{sourceMap:!1,shadowMode:!1})},"66b5":function(t,e,i){"use strict";i.r(e);var a=i("ee51"),o=i.n(a);for(var n in a)["default"].indexOf(n)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(n);e["default"]=o.a},7326:function(t,e,i){"use strict";var a=i("d7f3"),o=i.n(a);o.a},9121:function(t,e,i){"use strict";i.r(e);var a=i("4111"),o=i("66b5");for(var n in o)["default"].indexOf(n)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(n);i("7326");var r=i("f0c5"),s=i("34f9"),d=Object(r["a"])(o["default"],a["b"],a["c"],!1,null,"ff1d60ae",null,!1,a["a"],void 0);"function"===typeof s["a"]&&Object(s["a"])(d),e["default"]=d.exports},"97bf":function(t,e,i){"use strict";var a=i("4657"),o=i.n(a);o.a},a10b:function(t,e,i){var a=i("ef65"),o=function(t,e){uni.showLoading({mask:!0});var i={url:"/order/pay/orderFinishPay",method:"POST",data:t,callBack:function(t){uni.hideLoading(),e.success()},errCallBack:function(){uni.hideLoading(),uni.showToast({title:"支付状态更新错误,请联系客服",icon:"none"})}};a.request(i)};e.normalPay=function(t,e){uni.showLoading({mask:!0});var i={url:"/order/pay/normalPay",method:"POST",data:{orderNumber:t},callBack:function(i){uni.hideLoading(),o(t,e),uni.showToast({title:"模拟支付成功"})}};a.request(i)}},b996:function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,".coupon-item[data-v-7309cb92]{margin:15px 0;position:relative;box-shadow:1px 1px 3px rgba(0,0,0,.15);height:95px;background:#fff}.coupon-item .left[data-v-7309cb92]{float:left;color:#fff;text-align:center;border-left:1px dashed #fff;padding:20px 0;background:-webkit-gradient(linear,left top,right top,from(#f45c43),to(#ec6817));background:-o-linear-gradient(left,#f45c43,#ec6817);background:linear-gradient(left,#f45c43,#ec6817);background:-webkit-linear-gradient(left,#f45c43,#ec6817);width:%?260?%;height:55px}.coupon-item .left .num[data-v-7309cb92]{font-weight:600;font-size:%?36?%;height:%?70?%;line-height:%?70?%;font-family:arial}.coupon-item .left .num .coupon-price[data-v-7309cb92]{font-size:%?72?%;line-height:%?72?%;display:inline-block;font-family:arial}.coupon-item .left .condition[data-v-7309cb92]{font-size:%?28?%;line-height:%?28?%;display:block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;padding:0 2px;font-family:arial}.coupon-item .right[data-v-7309cb92]{margin-left:%?280?%;padding:5px;position:relative}.coupon-item .right .c-des[data-v-7309cb92]{height:30px;font-size:%?26?%;line-height:30px;overflow:hidden;font-weight:600}.coupon-item .right .c-des .c-type[data-v-7309cb92]{font-size:%?24?%;background:#fdf0f0;color:#ec6817;border-radius:8px;padding:3px 10px}.coupon-item .right .c-date[data-v-7309cb92]{font-size:%?24?%;margin-top:25px}.coupon-item .right .c-date .c-data-info[data-v-7309cb92]{font-family:arial}.coupon-item .right .c-date .c-btn[data-v-7309cb92]{position:absolute;bottom:0;right:10px;color:#fff;font-size:%?24?%;font-family:arial;border-radius:14px;padding:3px 7px;\n  /* background: -webkit-gradient(linear,left top,right top,from(#6c96da),to(#6b83d7));\n    background: -o-linear-gradient(left,#6c96da,#6b83d7);\n    background: linear-gradient(left,#6c96da,#6b83d7);\n    background: -webkit-linear-gradient(left,#6c96da,#6b83d7); */background:#ec6817;border:1px solid #ec6817}.coupon-item .right .c-date .c-btn.get-btn[data-v-7309cb92]{background:#fff;border:1px solid #ec6817;color:#ec6817}.coupon-item.gray .left[data-v-7309cb92]{background:#bbb}.coupon-item.gray .right .c-des .c-type[data-v-7309cb92]{background:#bbb;color:#fff}.coupon-item.gray .right .c-date .c-btn[data-v-7309cb92]{display:none}.coupon-item .tag-img[data-v-7309cb92]{position:absolute;top:0;right:0;width:%?120?%;height:%?120?%}.coupon-item .sel-btn[data-v-7309cb92]{position:absolute;right:10px;top:35px}",""]),t.exports=e},d46f:function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{class:"coupon-item "+(t.canUse?"":"gray")},[i("v-uni-view",{staticClass:"left"},[1==t.item.couponType?i("v-uni-view",{staticClass:"num"},[t._v("￥"),i("v-uni-text",{staticClass:"coupon-price"},[t._v(t._s(t.item.reduceAmount))])],1):t._e(),2==t.item.couponType?i("v-uni-view",{staticClass:"num"},[i("v-uni-text",{staticClass:"coupon-price"},[t._v(t._s(t.item.couponDiscount))]),t._v("折")],1):t._e(),i("v-uni-view",{staticClass:"condition"},[t._v("满"+t._s(t.item.cashCondition)+"元可用")])],1),i("v-uni-view",{staticClass:"right"},[i("v-uni-view",{staticClass:"c-des"},[i("v-uni-text",{staticClass:"c-type"},[t._v(t._s(0==t.item.suitableProdType?"通用":"商品"))]),t._v(t._s(0==t.item.suitableProdType?"全场通用":"指定商品可用"))],1),i("v-uni-view",{staticClass:"c-date"},[1==t.showTimeType&&2==t.item.couponType?i("v-uni-text",{staticClass:"c-data-info"},[t._v("领券"+t._s(t.item.validDays)+"天后失效")]):i("v-uni-text",{staticClass:"c-data-info"},[t._v(t._s(t.item.startTime)+"~"+t._s(t.item.endTime))]),t.item.canReceive&&!t.order?i("v-uni-text",{staticClass:"c-btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.receiveCoupon.apply(void 0,arguments)}}},[t._v("立即领取")]):t._e(),t.item.canReceive||t.order?t._e():i("v-uni-text",{staticClass:"c-btn get-btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.useCoupon.apply(void 0,arguments)}}},[t._v("立即使用")])],1),t.order&&t.canUse?i("v-uni-view",{staticClass:"sel-btn"},[i("v-uni-checkbox",{attrs:{color:"#EC6817","data-couponid":t.item.couponId,checked:t.item.choose},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.checkCoupon.apply(void 0,arguments)}}})],1):t._e()],1),1==t.type?i("v-uni-image",{staticClass:"tag-img",attrs:{src:"/static/images/icon/coupon-used.png"}}):t._e(),2==t.type?i("v-uni-image",{staticClass:"tag-img",attrs:{src:"/static/images/icon/coupon-ot.png"}}):t._e()],1)},o=[]},d7f3:function(t,e,i){var a=i("ed7b");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var o=i("4f06").default;o("2ee313e6",a,!0,{sourceMap:!1,shadowMode:!1})},ed7b:function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,'/* pages/submit-order/submit-order.wxss */uni-page-body[data-v-ff1d60ae]{background:#f4f4f4}body.?%PAGE?%[data-v-ff1d60ae]{background:#f4f4f4}\n\n/* 收货地址 */.submit-order[data-v-ff1d60ae]{margin-bottom:%?100?%;padding-bottom:%?160?%}.submit-order .delivery-addr[data-v-ff1d60ae]{position:relative;background:#fff}.delivery-addr .addr-bg .add-addr .plus-sign[data-v-ff1d60ae]{color:#ec6817;border:%?2?% solid #ec6817;padding:%?0?% %?6?%;margin-right:%?10?%}.delivery-addr .addr-bg[data-v-ff1d60ae]{padding:0 %?30?%}.delivery-addr .addr-bg.whole[data-v-ff1d60ae]{padding:0 %?39?% 0 %?77?%}.delivery-addr .addr-bg .add-addr[data-v-ff1d60ae]{font-size:%?28?%;color:#666;display:flex;align-items:center;padding:%?30?% 0}.submit-order .delivery-addr .addr-icon[data-v-ff1d60ae]{width:%?32?%;height:%?32?%;display:block;position:absolute;left:%?30?%;top:%?24?%}.submit-order .delivery-addr .addr-icon uni-image[data-v-ff1d60ae]{width:100%;height:100%}.submit-order .delivery-addr .user-info[data-v-ff1d60ae]{padding-top:%?20?%;line-height:%?48?%;word-wrap:break-word;word-break:break-all;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical}.submit-order .delivery-addr .user-info .item[data-v-ff1d60ae]{font-size:%?30?%;margin-right:%?30?%;vertical-align:top;display:inline-block}.submit-order .delivery-addr .addr[data-v-ff1d60ae]{font-size:%?26?%;line-height:%?36?%;color:#999;width:90%;padding-bottom:%?20?%;margin-top:%?15?%;word-wrap:break-word}.submit-order .delivery-addr .arrow[data-v-ff1d60ae]{width:%?15?%;height:%?15?%;border-top:%?2?% solid #777;border-right:%?2?% solid #777;-webkit-transform:rotate(45deg);transform:rotate(45deg);position:absolute;right:%?30?%;top:%?60?%}.submit-order .delivery-addr .arrow.empty[data-v-ff1d60ae]{top:%?39?%}.addr-bg .add-addr .plus-sign-img[data-v-ff1d60ae]{width:%?32?%;height:%?32?%;font-size:0;margin-right:%?10?%}.addr-bg .add-addr .plus-sign-img uni-image[data-v-ff1d60ae]{width:100%;height:100%}\n\n/* 商品列表 */.prod-item[data-v-ff1d60ae]{background-color:#fff;margin-top:%?15?%;font-size:%?28?%}.prod-item .item-cont .prod-pic .prod-pic-image[data-v-ff1d60ae]{width:%?150?%;height:%?150?%;border-radius:%?8?%;background-size:cover;background-repeat:no-repeat;background-position:top}.prod-item .order-num[data-v-ff1d60ae]{padding:%?20?% %?30?%;display:flex;justify-content:space-between;font-size:%?28?%}.order-state[data-v-ff1d60ae]{display:flex;align-items:center}.prod-item .item-cont[data-v-ff1d60ae]{display:flex;align-items:center;padding:%?30?%;border-bottom:%?2?% solid #f1f1f1}.prod-item .order-num .clear-btn[data-v-ff1d60ae]{width:%?32?%;height:%?32?%;font-size:0;vertical-align:top;margin-top:%?6?%;margin-left:%?42?%;position:relative}.prod-item .order-num .clear-btn[data-v-ff1d60ae]::after{content:" ";display:block;position:absolute;left:-10px;top:1px;width:1px;height:12px;background:#ddd}.prod-item .order-num .clear-btn .clear-list-btn[data-v-ff1d60ae]{width:100%;height:100%;vertical-align:middle}.prod-item .item-cont .prod-pic[data-v-ff1d60ae]{font-size:0;display:block;width:%?160?%;height:%?160?%;overflow:hidden;background:#fff;margin-right:%?16?%}.prod-item .item-cont .prod-pic uni-image[data-v-ff1d60ae]{width:100%;height:100%}.prod-item .item-cont .prod-info[data-v-ff1d60ae]{margin-left:%?10?%;font-size:%?28?%;width:100%;position:relative;height:%?160?%;-webkit-flex:1;-ms-flex:1;-webkit-box-flex:1;-moz-box-flex:1;flex:1}.prod-item .item-cont .prod-info .prodname[data-v-ff1d60ae]{font-size:%?28?%;line-height:%?40?%;max-height:%?86?%;overflow:hidden;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;text-overflow:ellipsis;word-break:break-all}.prod-item .item-cont .prod-info .prod-info-cont[data-v-ff1d60ae]{color:#999;line-height:%?40?%;margin-top:%?10?%;font-size:%?22?%;overflow:hidden;display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical;text-overflow:ellipsis;word-break:break-all}.prod-item .total-num[data-v-ff1d60ae]{text-align:right;padding:%?20?% %?30?%;font-size:%?28?%}.prod-item .price-nums .prodprice[data-v-ff1d60ae]{position:absolute;bottom:0}.prod-item .price-nums .prodcount[data-v-ff1d60ae]{position:absolute;bottom:%?5?%;right:0;color:#999;font-family:verdana}.prod-item .total-num .prodprice[data-v-ff1d60ae]{display:inline-block;color:#333}.prod-item .total-num .prodcount[data-v-ff1d60ae]{margin-right:%?20?%}\n\n/* \n订单信息 */.order-msg[data-v-ff1d60ae]{background:#fff;margin-top:%?15?%;padding:0 %?30?%;font-size:%?28?%}.order-msg .msg-item[data-v-ff1d60ae]{border-top:%?2?% solid #f1f1f1}.order-msg .msg-item[data-v-ff1d60ae]:first-child{border:0}.order-msg .msg-item .item[data-v-ff1d60ae]{position:relative;display:flex;padding:%?16?% 0;align-items:center}.order-msg .msg-item .item.payment[data-v-ff1d60ae]{border-top:%?2?% solid #f1f1f1;color:#ec6817}.order-msg .msg-item .item .item-tit[data-v-ff1d60ae]{line-height:%?48?%}.order-msg .msg-item .item .item-txt[data-v-ff1d60ae]{-webkit-box-flex:1;-moz-box-flex:1;flex:1;font-family:arial;max-height:%?48?%;overflow:hidden;line-height:%?48?%;display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical;text-overflow:ellipsis;word-break:break-all}.order-msg .msg-item .item .item-txt.price[data-v-ff1d60ae]{padding:0}.order-msg .msg-item .item.coupon[data-v-ff1d60ae]{border-bottom:%?2?% solid #e1e1e1}.order-msg .msg-item .item uni-input[data-v-ff1d60ae]{flex:1}.order-msg .msg-item .item .coupon-btn[data-v-ff1d60ae]{display:block;margin:0 %?30?%;line-height:%?28?%;color:#999}.order-msg .msg-item .item .item-txt.price[data-v-ff1d60ae]{text-align:right}.order-msg .msg-item .item .arrow[data-v-ff1d60ae]{width:%?15?%;height:%?15?%;border-top:%?2?% solid #999;border-right:%?2?% solid #999;-webkit-transform:rotate(45deg);transform:rotate(45deg);position:absolute;right:%?0?%}\n\n/* 底部栏 */.submit-order-footer[data-v-ff1d60ae]{position:fixed;bottom:0;width:100%;max-width:%?750?%;background:#fff;margin:auto;display:-webkit-flex;display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:flex;font-size:%?26?%;box-shadow:0 -1px 3px rgba(0,0,0,.05)}.submit-order-footer .sub-order[data-v-ff1d60ae]{flex:1;margin:0 %?30?%;line-height:%?100?%;display:block;text-align:left;font-size:%?28?%}.submit-order-footer .footer-box[data-v-ff1d60ae]{padding:0 %?10?%;width:%?200?%;background:#ec6817;text-align:center;line-height:%?100?%;color:#fff}.submit-order-footer .sub-order .item-txt .price[data-v-ff1d60ae]{display:inline;color:#ec6817;font-size:%?28?%}.clearfix[data-v-ff1d60ae]:after{content:" ";display:table;clear:both}\n\n/** 优惠券弹窗 **/.popup-hide[data-v-ff1d60ae]{position:fixed;top:0;bottom:0;left:0;right:0;z-index:999;background-color:rgba(0,0,0,.3)}.popup-box[data-v-ff1d60ae]{position:absolute;bottom:0;width:100%;height:80%;overflow:hidden;background-color:#fff}.popup-tit[data-v-ff1d60ae]{position:relative;height:46px;line-height:46px;padding-left:10px;font-size:16px;color:#333;font-weight:700}.close[data-v-ff1d60ae]{color:#aaa;border-radius:12px;line-height:20px;text-align:center;height:20px;width:20px;font-size:18px;padding:1px;top:10px;right:10px;position:absolute}.close[data-v-ff1d60ae]::before{content:"\\2716"}.coupon-tabs[data-v-ff1d60ae]{display:flex;font-size:14px;justify-content:space-around;border-bottom:1px solid #f2f2f2}.coupon-tab[data-v-ff1d60ae]{padding:10px 0}.coupon-tab.on[data-v-ff1d60ae]{border-bottom:2px solid #ec6817;font-weight:600}.popup-cnt[data-v-ff1d60ae]{height:calc(100% - 88px);overflow:auto;padding:0 10px;background:#f4f4f4}.coupon-ok[data-v-ff1d60ae]{position:fixed;bottom:0;width:100%;height:60px;line-height:50px;font-size:14px;text-align:center;box-shadow:0 -1px 1px #ddd;background:hsla(0,0%,100%,.9)}.coupon-ok uni-text[data-v-ff1d60ae]{border-radius:20px;display:inline-block;height:20px;line-height:20px;width:%?450?%;padding:7px;background:-o-linear-gradient(right,#f45c43,#ec6817);background:linear-gradient(right,#f45c43,#ec6817);background:-webkit-linear-gradient(right,#f45c43,#ec6817);color:#fff;box-shadow:-1px 3px 3px #aaa}.botm-empty[data-v-ff1d60ae]{height:60px}\n\n/*checkbox 选项框大小  */uni-checkbox .wx-checkbox-input[data-v-ff1d60ae]{border-radius:50%;width:%?35?%;height:%?35?%}\n\n/*checkbox选中后样式  */uni-checkbox .wx-checkbox-input.wx-checkbox-input-checked[data-v-ff1d60ae]{background:#ec6817;border-color:#ec6817}\n\n/*checkbox选中后图标样式  */uni-checkbox .wx-checkbox-input.wx-checkbox-input-checked[data-v-ff1d60ae]::before{text-align:center;font-size:%?22?%;color:#fff;background:transparent;transform:translate(-50%,-50%) scale(1);-webkit-transform:translate(-50%,-50%) scale(1)}',""]),t.exports=e},ee51:function(t,e,i){"use strict";(function(t){i("7a82");var a=i("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("99af"),i("d3b7"),i("159b"),i("14d9"),i("c975"),i("a434");var o=a(i("2fbf")),n=i("ef65"),r=i("a10b"),s=i("07e8"),d={data:function(){return{popupShow:!1,couponSts:1,couponList:[],orderEntry:"0",userAddr:null,orderItems:[],coupon:{totalLength:0,canUseCoupons:[],noCanUseCoupons:[]},actualTotal:0,total:0,totalCount:0,transfee:0,reduceAmount:0,remarks:"",couponIds:[],coupons:{},orderReduce:0,item:{},selAddress:""}},components:{coupon:o.default},props:{},computed:{fullImagePath:function(){return function(t){return s.staticUrl+t}}},onLoad:function(t){this.setData({orderEntry:t.orderEntry})},onReady:function(){},onShow:function(){var t=getCurrentPages(),e=t[t.length-1];"yes"==e.selAddress&&(this.userAddr=e.item,e.selAddress="no"),this.loadOrderData()},onHide:function(){},onUnload:function(){},onPullDownRefresh:function(){},onReachBottom:function(){},onShareAppMessage:function(){},methods:{loadOrderData:function(){var t=this,e=0;null!=this.userAddr&&(e=this.userAddr.addrId),uni.showLoading({mask:!0});var i={url:"1"===this.orderEntry?"/order/order/buynowGetCheckOut":"/order/order/shopcartGetCheckOut",method:"POST",data:{addrId:e,buynowSkuDTO:"1"===this.orderEntry?JSON.parse(uni.getStorageSync("orderItem")):void 0,shopcartItemIds:"0"===this.orderEntry?JSON.parse(uni.getStorageSync("shopcartItemIds")):void 0},callBack:function(e){uni.hideLoading();var i=[];if(i=i.concat(e.checkOutSkuDTOs),e.coupons){var a=[],o=[];e.coupons.forEach((function(t){t.canUse?a.push(t):o.push(t)})),t.setData({coupons:{totalLength:e.coupons.length,canUseCoupons:a,unCanUseCoupons:o}})}t.setData({orderItems:i,actualTotal:e.totalPay,total:e.total,totalCount:e.totalCount,userAddr:e.userAddr,transfee:e.transfee,orderReduce:e.orderReduce})},errCallBack:function(e){uni.hideLoading(),t.chooseCouponErrHandle(e)}};n.request(i)},chooseCouponErrHandle:function(t){var e=this;601==t.statusCode&&(uni.showToast({title:t.data,icon:"none",duration:3e3,success:function(t){e.setData({couponIds:[]})}}),setTimeout((function(){e.loadOrderData()}),2500))},toPay:function(){this.userAddr?this.submitOrder():uni.showToast({title:"请选择地址",icon:"none"})},submitOrder:function(){var e=this;uni.showLoading({mask:!0});var i={url:"/order/order/submit",method:"POST",data:{remarks:this.remarks},callBack:function(i){t("log","res",i," at pages/submit-order/submit-order.vue:434"),uni.hideLoading(),e.normalPay(i)}};n.request(i)},normalPay:function(t){var e={success:function(){uni.showToast({title:"支付成功",icon:"none"}),uni.redirectTo({url:"/pages/pay-result/pay-result?sts=1&orderNumber="+t})},fail:function(){uni.showToast({title:"支付取消",icon:"none"}),uni.redirectTo({url:"/pages/order-detail/order-detail?orderNumber="+t})}};r.normalPay(t,e)},changeCouponSts:function(t){this.setData({couponSts:t.currentTarget.dataset.sts})},showCouponPopup:function(){this.setData({popupShow:!0})},closePopup:function(){this.setData({popupShow:!1})},toAddrListPage:function(){uni.navigateTo({url:"/pages/delivery-address/delivery-address?order=0"})},choosedCoupon:function(){this.loadOrderData(),this.setData({popupShow:!1})},checkCoupon:function(t){var e=this.couponIds.indexOf(t.detail.couponId);-1===e?this.couponIds.push(t.detail.couponId):this.couponIds.splice(e,1)}}};e.default=d}).call(this,i("0de9")["log"])}}]);