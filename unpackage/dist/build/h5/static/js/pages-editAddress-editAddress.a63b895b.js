(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-editAddress-editAddress"],{"0ba2":function(a,e,i){"use strict";i("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("e25e"),i("498a");var t=i("ef65"),n=(i("07e8"),[18,0,0]),r=0,o=!1,d=200,c={data:function(){return{value:[0,0,0],provArray:[],cityArray:[],areaArray:[],province:"",city:"",area:"",provinceId:0,cityId:0,areaId:0,receiver:"",mobile:"",addr:"",addrId:0,animation:"",show:"",region:""}},components:{},props:{},onLoad:function(){if(uni.getStorageSync("userAddr")){var a=uni.getStorageSync("userAddr"),e=JSON.parse(a);uni.showLoading(),this.setData({province:e.province,city:e.city,area:e.area,provinceId:e.provinceId,cityId:e.cityId,areaId:e.areaId,receiver:e.receiver,mobile:e.mobile,addr:e.addr,addrId:e.addrId}),this.initCityData(e.provinceId,e.cityId,e.areaId),uni.hideLoading()}else this.initCityData(this.provinceId,this.cityId,this.areaId)},onShow:function(){},onReady:function(){this.animation=uni.createAnimation({transformOrigin:"50% 50%",duration:0,timingFunction:"ease",delay:0}),this.animation.translateY("200vh").step(),this.setData({animation:this.animation.export(),show:o})},methods:{initCityData:function(a,e,i){var n=this;uni.showLoading();var r={url:"/area/area/listByParentId/0",method:"GET",data:{},callBack:function(t){if(n.setData({provArray:t}),a)for(var r in t)t[r].areaId==a&&n.setData({value:[parseInt(r),n.value[1],n.value[2]]});n.getCityArray(a||t[0].areaId,e,i),uni.hideLoading()}};t.request(r)},bindChange:function(a){var e=this,i=a.detail.value;n[0]!=i[0]?(i[1]=0,i[2]=0,e.getCityArray(this.provArray[i[0]].areaId)):n[1]!=i[1]&&(i[2]=0,e.getAreaArray(this.cityArray[i[1]].areaId)),n=i,this.setData({value:[i[0],i[1],i[2]]}),e.setData({province:e.provArray[e.value[0]].areaName,city:e.cityArray[e.value[1]].areaName,area:e.areaArray[e.value[2]].areaName,provinceId:e.provArray[e.value[0]].areaId,cityId:e.cityArray[e.value[1]].areaId,areaId:e.areaArray[e.value[2]].areaId})},translate:function(a){0==r?(d=0,o=!0,r=1):(d=200,o=!1,r=0),this.animationEvents(this,d,o)},hiddenFloatView:function(a){d=200,o=!1,r=0,this.animationEvents(this,d,o)},animationEvents:function(a,e,i){a.animation=uni.createAnimation({transformOrigin:"50% 50%",duration:400,timingFunction:"ease",delay:0}),a.animation.translateY(e+"vh").step(),a.setData({animation:a.animation.export(),show:i})},getCityArray:function(a,e,i){var n=this,r={url:"/area/area/listByParentId/"+a,method:"GET",data:{},callBack:function(a){if(n.setData({cityArray:a}),e)for(var t in a)a[t].areaId==e&&n.setData({value:[n.value[0],parseInt(t),n.value[2]]});n.getAreaArray(e||a[0].areaId,i),uni.hideLoading()}};t.request(r)},getAreaArray:function(a,e){var i=this,r={url:"/area/area/listByParentId/"+a,method:"GET",data:{},callBack:function(a){if(i.setData({areaArray:a}),e){for(var t in a)a[t].areaId==e&&i.setData({value:[i.value[0],i.value[1],parseInt(t)]});n=i.value,i.setData({province:i.province,city:i.city,area:i.area,provinceId:i.provinceId,cityId:i.cityId,areaId:i.areaId})}else i.setData({province:i.provArray[i.value[0]].areaName,city:i.cityArray[i.value[1]].areaName,area:i.areaArray[i.value[2]].areaName,provinceId:i.provArray[i.value[0]].areaId,cityId:i.cityArray[i.value[1]].areaId,areaId:i.areaArray[i.value[2]].areaId});uni.hideLoading()}};t.request(r)},bindRegionChange:function(a){this.setData({region:a.detail.value})},onSaveAddr:function(){var a=this,e=a.receiver,i=a.mobile,n=a.addr;if(!e.trim())return a.receiver="",void uni.showToast({title:"请输入收货人姓名",icon:"none"});if(i)if(11==i.length){if(!n.trim())return a.receiver="",void uni.showToast({title:"请输入详细地址",icon:"none"});uni.showLoading();var r="/user/userAddr/save",o="POST",d={receiver:a.receiver,mobile:a.mobile,addr:a.addr,province:a.province,provinceId:a.provinceId,city:a.city,cityId:a.cityId,areaId:a.areaId,area:a.area};0!=a.addrId&&(r="/user/userAddr/update",o="PUT",d.addrId=a.addrId);var c={url:r,method:o,data:d,callBack:function(a){uni.hideLoading(),uni.navigateBack({delta:1})}};t.request(c)}else uni.showToast({title:"请输入正确的手机号码",icon:"none"});else uni.showToast({title:"请输入手机号码",icon:"none"})},onReceiverInput:function(a){this.setData({receiver:a.detail.value})},onMobileInput:function(a){this.setData({mobile:a.detail.value})},onAddrInput:function(a){this.setData({addr:a.detail.value})},onDeleteAddr:function(a){var e=this;uni.showModal({title:"",content:"确定要删除此收货地址吗？",confirmColor:"#EC6817",success:function(a){if(a.confirm){var i=e.addrId;uni.showLoading();var n={url:"/user/userAddr/delete/"+i,method:"DELETE",data:{},callBack:function(a){uni.hideLoading(),uni.navigateBack({delta:1})}};t.request(n)}else a.cancel&&console.log("用户点击取消")}})}}};e.default=c},"384e":function(a,e,i){"use strict";i.r(e);var t=i("0ba2"),n=i.n(t);for(var r in t)["default"].indexOf(r)<0&&function(a){i.d(e,a,(function(){return t[a]}))}(r);e["default"]=n.a},"3ff1":function(a,e,i){var t=i("24fb");e=t(!1),e.push([a.i,"/* pages/editAddress/editAddress.wxss */uni-page-body[data-v-5f4cae74]{background:#fff}body.?%PAGE?%[data-v-5f4cae74]{background:#fff}\n\n/* input列表 */.input-box[data-v-5f4cae74]{margin-bottom:%?50?%;background:#fff;padding:0 %?20?%}.input-box .section[data-v-5f4cae74]{display:flex;align-items:center;width:100%;font-size:%?28?%;padding:%?30?% 0;line-height:%?48?%;height:100%;box-sizing:border-box;border-bottom:%?2?% solid #e5e5e5}.input-box .section uni-text[data-v-5f4cae74]{width:20%;color:#333}.input-box .section uni-input[data-v-5f4cae74]{width:70%;padding:0 %?20?%;color:#333}.input-box .section uni-picker[data-v-5f4cae74]{width:70%;padding:0 %?30?%}.input-box .section .pca[data-v-5f4cae74]{width:70%;padding:0 %?20?%}.input-box .section .arrow[data-v-5f4cae74]{width:%?28?%;height:%?28?%}.input-box .section .arrow uni-image[data-v-5f4cae74]{width:100%;height:100%;vertical-align:top}\n\n/* end input列表 */\n\n/* 功能按钮 */.btn-box[data-v-5f4cae74]{padding:5px 10px;width:100%;text-align:center;margin:auto}.btn-box uni-text[data-v-5f4cae74]{font-size:%?30?%}.btn-box .clear.btn[data-v-5f4cae74],\n.keep.btn[data-v-5f4cae74]{width:60%;height:%?80?%;line-height:%?80?%;margin:auto;text-align:center;border:%?1?% solid #ec6817;border-radius:%?50?%;box-shadow:inset 0 1px 0 hsla(0,0%,100%,.05),0 1px 0 hsla(0,0%,100%,.3)}.btn-box .keep[data-v-5f4cae74]{color:#fff;background-color:#ec6817}.btn-box .clear.btn[data-v-5f4cae74]{margin-top:%?40?%;color:#ec6817;background-color:rgba(248,240,241,.7137254901960784)}\n\n/* end 功能按钮 */.infoText[data-v-5f4cae74]{margin-top:%?20?%;text-align:center;width:100%;justify-content:center}uni-picker-view[data-v-5f4cae74]{background-color:#fff;padding:0;width:100%;height:%?380?%;bottom:0;position:fixed}uni-picker-view-column uni-view[data-v-5f4cae74]{vertical-align:middle;font-size:%?28?%;line-height:%?28?%;height:100%;display:flex;align-items:center;justify-content:center}.animation-element-wrapper[data-v-5f4cae74]{display:flex;position:fixed;left:0;top:0;height:100%;width:100%;background-color:rgba(0,0,0,.6);z-index:999}.animation-element[data-v-5f4cae74]{display:flex;position:fixed;width:100%;height:%?470?%;bottom:0;background-color:#fff}.animation-button[data-v-5f4cae74]{top:%?20?%;width:%?290?%;height:%?100?%;align-items:center}uni-picker-view uni-text[data-v-5f4cae74]{color:#999;display:inline-flex;position:fixed;margin-top:%?20?%;height:%?50?%;text-align:center;line-height:%?50?%;font-size:%?34?%;font-family:Arial,Helvetica,sans-serif}.left-bt[data-v-5f4cae74]{left:%?30?%}.right-bt[data-v-5f4cae74]{right:%?20?%;top:%?20?%;position:absolute;width:%?80?%!important}.line[data-v-5f4cae74]{display:block;position:fixed;height:%?2?%;width:100%;margin-top:%?89?%;background-color:#eee}",""]),a.exports=e},"736e":function(a,e,i){"use strict";i.d(e,"b",(function(){return t})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){}));var t=function(){var a=this,e=a.$createElement,i=a._self._c||e;return i("v-uni-view",{staticClass:"container"},[i("v-uni-view",{staticClass:"input-box"},[i("v-uni-view",{staticClass:"section"},[i("v-uni-text",[a._v("收 货 人")]),i("v-uni-input",{attrs:{placeholder:"姓名",type:"text",maxlength:"15",value:a.receiver},on:{input:function(e){arguments[0]=e=a.$handleEvent(e),a.onReceiverInput.apply(void 0,arguments)}}})],1),i("v-uni-view",{staticClass:"section"},[i("v-uni-text",[a._v("手机号码")]),i("v-uni-input",{attrs:{placeholder:"11位手机号码",type:"number",maxlength:"11",value:a.mobile},on:{input:function(e){arguments[0]=e=a.$handleEvent(e),a.onMobileInput.apply(void 0,arguments)}}})],1),i("v-uni-view",{staticClass:"section",on:{click:function(e){arguments[0]=e=a.$handleEvent(e),a.translate.apply(void 0,arguments)}}},[i("v-uni-text",[a._v("所在地区")]),i("v-uni-view",{staticClass:"pca"},[a._v(a._s(a.province)+" "+a._s(a.city)+" "+a._s(a.area))]),i("v-uni-view",{staticClass:"animation-element-wrapper",style:"visibility:"+(a.show?"visible":"hidden"),attrs:{animation:a.animation},on:{click:function(e){e.stopPropagation(),arguments[0]=e=a.$handleEvent(e),a.hiddenFloatView.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"animation-element",on:{click:function(e){e.stopPropagation(),arguments[0]=e=a.$handleEvent(e),a.nono.apply(void 0,arguments)}}},[i("v-uni-text",{staticClass:"right-bt",on:{click:function(e){e.stopPropagation(),arguments[0]=e=a.$handleEvent(e),a.hiddenFloatView.apply(void 0,arguments)}}},[a._v("确定")]),i("v-uni-view",{staticClass:"line"}),i("v-uni-picker-view",{attrs:{"indicator-style":"height: 50rpx;",value:a.value},on:{change:function(e){arguments[0]=e=a.$handleEvent(e),a.bindChange.apply(void 0,arguments)},click:function(e){e.stopPropagation(),arguments[0]=e=a.$handleEvent(e),a.nono.apply(void 0,arguments)}}},[i("v-uni-picker-view-column",a._l(a.provArray,(function(e,t){return i("v-uni-view",{key:t},[a._v(a._s(e.areaName))])})),1),i("v-uni-picker-view-column",a._l(a.cityArray,(function(e,t){return i("v-uni-view",{key:t},[a._v(a._s(e.areaName))])})),1),i("v-uni-picker-view-column",a._l(a.areaArray,(function(e,t){return i("v-uni-view",{key:t},[a._v(a._s(e.areaName))])})),1)],1)],1)],1),i("v-uni-view",{staticClass:"arrow"},[i("v-uni-image",{attrs:{src:"/static/images/icon/more.png"}})],1)],1),i("v-uni-view",{staticClass:"section"},[i("v-uni-text",[a._v("详细地址")]),i("v-uni-input",{attrs:{placeholder:"如楼号/单元/门牌号",type:"text",value:a.addr},on:{input:function(e){arguments[0]=e=a.$handleEvent(e),a.onAddrInput.apply(void 0,arguments)}}})],1)],1),i("v-uni-view",{staticClass:"btn-box"},[i("v-uni-view",{staticClass:"keep btn",on:{click:function(e){arguments[0]=e=a.$handleEvent(e),a.onSaveAddr.apply(void 0,arguments)}}},[i("v-uni-text",[a._v("保存收货地址")])],1),0!=a.addrId?i("v-uni-view",{staticClass:"clear btn",on:{click:function(e){arguments[0]=e=a.$handleEvent(e),a.onDeleteAddr.apply(void 0,arguments)}}},[i("v-uni-text",[a._v("删除收货地址")])],1):a._e()],1)],1)},n=[]},8943:function(a,e,i){"use strict";i.r(e);var t=i("736e"),n=i("384e");for(var r in n)["default"].indexOf(r)<0&&function(a){i.d(e,a,(function(){return n[a]}))}(r);i("9a97");var o=i("f0c5"),d=Object(o["a"])(n["default"],t["b"],t["c"],!1,null,"5f4cae74",null,!1,t["a"],void 0);e["default"]=d.exports},"9a97":function(a,e,i){"use strict";var t=i("f9be"),n=i.n(t);n.a},f9be:function(a,e,i){var t=i("3ff1");t.__esModule&&(t=t.default),"string"===typeof t&&(t=[[a.i,t,""]]),t.locals&&(a.exports=t.locals);var n=i("4f06").default;n("292406fa",t,!0,{sourceMap:!1,shadowMode:!1})}}]);