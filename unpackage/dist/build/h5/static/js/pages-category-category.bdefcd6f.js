(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-category-category"],{"0eb5":function(t,e,a){"use strict";var i=a("b2e8"),o=a.n(i);o.a},4093:function(t,e,a){"use strict";var i=a("a631"),o=a.n(i);o.a},4250:function(t,e,a){"use strict";a.d(e,"b",(function(){return o})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){return i}));var i={uniPopup:a("efb1").default},o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"container"},[a("v-uni-view",{staticClass:"search-bar"},[a("v-uni-view",{staticClass:"search-box",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toSearchPage.apply(void 0,arguments)}}},[a("v-uni-image",{staticClass:"search-img",attrs:{src:"/static/images/icon/search.png"}}),a("v-uni-text",{staticClass:"sear-input"},[t._v("搜索您想要的商品")])],1)],1),a("v-uni-view",{staticClass:"main"},[a("v-uni-scroll-view",{staticClass:"headmenu",attrs:{"scroll-x":"true"}},t._l(t.categoryList,(function(e,i){return a("v-uni-view",{key:i,staticClass:"menu-view"},[a("v-uni-view",{class:"menu-item "+(t.selIndex==i?"active":"")+" ",attrs:{"data-index":i,"data-id":e.categoryId},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onMenuTab.apply(void 0,arguments)}}},[t._v(t._s(e.categoryName))])],1)})),1),a("v-uni-view",{staticClass:"hot-sale"},[t._l(t.productList,(function(e,i){return[a("v-uni-view",{key:i+"_0",staticClass:"prod-items",attrs:{"data-prodid":e.prodId},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toProdPage.apply(void 0,arguments)}}},[a("prodCard",{attrs:{prod:e,width:"100%",height:"500rpx",type:"category"},on:{quickAddShopCart:function(e){arguments[0]=e=t.$handleEvent(e),t.quickAddShopCart.apply(void 0,arguments)}}})],1)]}))],2),0===t.productList.length?a("v-uni-view",{staticClass:"cont-item empty"},[t._v("该分类下暂无商品")]):t._e(),t.isBottom?a("v-uni-view",{staticClass:"end-tip"},[t._v("已经到底了~")]):t._e()],1),a("uni-popup",{ref:"skuselect",attrs:{type:"bottom"},on:{touchmove:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e),t.moveHandle.apply(void 0,arguments)},change:function(e){arguments[0]=e=t.$handleEvent(e),t.onPopupChange.apply(void 0,arguments)}}},[a("skuSelect",{attrs:{skuSelectData:t.skuSelectData,prodId:t.prodid,hasBottom:!1},on:{"close-popup":function(e){arguments[0]=e=t.$handleEvent(e),t.closeSkuselect.apply(void 0,arguments)}}})],1)],1)},n=[]},"44a3":function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"prod-item",style:{width:t.width,height:t.height}},[a("v-uni-view",{staticClass:"imagecont",style:{backgroundImage:"url("+t.fullImagePath(t.prod.pic)+")"}}),a("v-uni-view",{staticClass:"prod-text"},[t._v(t._s(t.prod.prodName))]),"category"==t.type?a("v-uni-view",{staticClass:"prod-brief"},[t._v(t._s(t.prod.brief))]):t._e(),a("v-uni-view",{staticClass:"prod-price"},[a("v-uni-text",{staticClass:"symbol"},[t._v("￥")]),a("v-uni-text",{staticClass:"big-num"},[t._v(t._s(t.prod.price))])],1),"category"==t.type?a("v-uni-image",{staticClass:"basket-img",attrs:{src:"/static/images/tabbar/basket-sel.png","data-prodid":t.prod.prodId,"data-categoryid":t.prod.categoryId},on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.quickAddShopCart.apply(void 0,arguments)}}}):t._e()],1)},o=[]},"492a":function(t,e,a){"use strict";a.r(e);var i=a("44a3"),o=a("f6bb");for(var n in o)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return o[t]}))}(n);a("4093");var r=a("f0c5"),d=Object(r["a"])(o["default"],i["b"],i["c"],!1,null,"0a3cb05a",null,!1,i["a"],void 0);e["default"]=d.exports},"4d26":function(t,e,a){"use strict";a.r(e);var i=a("51ca"),o=a.n(i);for(var n in i)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(n);e["default"]=o.a},"51ca":function(t,e,a){"use strict";a("7a82");var i=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("99af");var o=i(a("2172")),n=i(a("492a")),r=a("ef65"),d=a("07e8"),c={data:function(){return{isBottom:!1,selIndex:0,categoryList:[],productList:[],prodid:0,current:1,pages:0,skuSelectData:{}}},computed:{fullImagePath:function(){return function(t){return d.staticUrl+t}}},components:{skuSelect:o.default,prodCard:n.default},props:{},onLoad:function(){var t=this;uni.showLoading({mask:!0});var e={url:"/prod/prodCategory/category",method:"GET",data:{parentId:""},callBack:function(e){uni.hideLoading();var a=uni.getStorageSync("categoryIndex");null!=a&&void 0!=a&&""!=a&&t.setData({selIndex:a}),uni.removeStorageSync("categoryIndex"),t.setData({categoryList:e}),t.getProdList(e[t.selIndex].categoryId,1)}};r.request(e)},onReady:function(){},onShow:function(){if(""!==uni.getStorageSync("categoryIndex")){var t=uni.getStorageSync("categoryIndex");t!=this.selIndex&&(this.getProdList(this.categoryList[t].categoryId,1),this.setData({selIndex:t}))}uni.removeStorageSync("categoryIndex")},onHide:function(){this.$refs.skuselect.close()},onUnload:function(){},onPullDownRefresh:function(){},onReachBottom:function(){this.current<this.pages&&this.getProdList(this.categoryList[this.selIndex].categoryId,this.current+1)},onShareAppMessage:function(){},methods:{moveHandle:function(){},onMenuTab:function(t){t.currentTarget.dataset.id;var e=t.currentTarget.dataset.index;this.setData({productList:[],current:1,pages:0,selIndex:e}),this.getProdList(this.categoryList[e].categoryId,1)},toSearchPage:function(){uni.navigateTo({url:"/pages/search-page/search-page"})},getProdList:function(t,e){var a=this;uni.showLoading();var i={url:"/prod/prod/categoryProdPage",method:"POST",data:{current:e,size:10,categoryId:t},callBack:function(t){var e=a.productList;e=e.concat(t.items);var i=!1;if(t.meta.currentPage>=t.meta.totalPages)i=!0;a.setData({productList:e,pages:t.meta.totalPages,current:t.meta.currentPage,isBottom:i}),uni.hideLoading()}};r.request(i)},toProdPage:function(t){var e=t.currentTarget.dataset.prodid;uni.navigateTo({url:"/pages/prod/prod?prodid="+e})},quickAddShopCart:function(t){var e=this,a=t.prod.categoryId,i=t.prod.prodId,o={url:"/prod/prod/skuSelect/"+a+"/"+i,method:"GET",callBack:function(t){e.setData({skuSelectData:t,prodid:i}),e.$refs.skuselect.open("bottom")}};r.request(o)},closeSkuselect:function(){this.$refs.skuselect.close()},onPopupChange:function(t){t.show||this.setData({skuSelectData:{}})}}};e.default=c},"7b4c":function(t,e,a){"use strict";e["a"]=function(t){(t.options.wxs||(t.options.wxs={}))["wxs"]=function(t){return t.exports={toPrice:function(t){return t||(t=0),t.toFixed(2)},parsePrice:function(t){return t||(t=0),t.toFixed(2).split(".")},array_contain:function(t,e){for(var a=0;a<t.length;a++)if(t[a]==e)return!0;return!1},props_contain:function(t,e,a,i,o){var n="";e[a]=i;for(var r=0;r<o.length;r++)n+=o[r]+":"+e[o[r]]+";";n=n.substring(0,n.length-1);for(var d=!1,c=0;c<t.length;c++)if(n==t[c]){d=!0;break}return d},parseDiscount:function(t){return 0==t?"满额减":1==t?"满件减":2==t?"满额折":3==t?"满件折":""},parseDiscountMsg:function(t,e,a){return 0==t?"购满"+e+"元减"+a+"元":1==t?"购满"+e+"件减"+a+"元":2==t?"购满"+e+"元打"+a+"折":3==t?"购满"+e+"件打"+a+"折":""}},t.exports}({exports:{}})}},a631:function(t,e,a){var i=a("f729");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=a("4f06").default;o("b598fb2e",i,!0,{sourceMap:!1,shadowMode:!1})},b2e8:function(t,e,a){var i=a("d263");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=a("4f06").default;o("6c859a63",i,!0,{sourceMap:!1,shadowMode:!1})},b344:function(t,e,a){"use strict";a.r(e);var i=a("4250"),o=a("4d26");for(var n in o)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return o[t]}))}(n);a("0eb5");var r=a("f0c5"),d=a("7b4c"),c=Object(r["a"])(o["default"],i["b"],i["c"],!1,null,"ba8c6f32",null,!1,i["a"],void 0);"function"===typeof d["a"]&&Object(d["a"])(c),e["default"]=c.exports},c74e:function(t,e,a){"use strict";a("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a("07e8"),o={props:{prod:{type:Object,required:!0,default:{}},width:{type:String,default:"320rpx"},height:{type:String,default:"520rpx"},type:{type:String,default:"index"}},computed:{fullImagePath:function(){return function(t){return i.staticUrl+t}}},methods:{quickAddShopCart:function(t){this.$emit("quickAddShopCart",{prod:{prodId:t.currentTarget.dataset.prodid,categoryId:t.currentTarget.dataset.categoryid}})}}};e.default=o},d263:function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,'/* pages/category/category.wxss */uni-page-body[data-v-ba8c6f32]{\n  /* background-color: white; */}.container[data-v-ba8c6f32]{\n  /* background-color: white; */}.main[data-v-ba8c6f32]{overflow:hidden;margin-top:%?98?%\n\n  /* height: calc(100% - 100rpx); */}\n\n/* 搜索栏 */.search-bar[data-v-ba8c6f32]{width:100%;position:fixed;top:0;left:0;color:#777;background:#fff;z-index:3;padding:%?20?% 0}.search-bar .arrow[data-v-ba8c6f32]{width:%?20?%;height:%?20?%;border-bottom:%?2?% solid #777;border-left:%?2?% solid #777;-webkit-transform:rotate(45deg);transform:rotate(45deg);position:absolute;left:%?30?%;top:%?41?%}.search-bar .search-box[data-v-ba8c6f32]{display:flex;justify-content:center;align-items:center;height:%?60?%;background:#f7f7f7;z-index:999;width:92%;border-radius:%?50?%;text-align:center;margin:auto}.sear-input[data-v-ba8c6f32]{font-size:%?28?%}.search-bar .search-hint[data-v-ba8c6f32]{font-size:%?28?%;position:absolute;right:%?30?%;top:%?32?%}.search-bar .search-box .search-img[data-v-ba8c6f32]{width:%?32?%;height:%?32?%;margin-right:%?10?%}\n\n/* 头部菜单栏 */.headmenu[data-v-ba8c6f32]{white-space:nowrap;width:100%;position:fixed;z-index:999;background:#fff}\n\n/* .leftmenu {\n  width: 200rpx;\n  height: 100%;\n  box-sizing: border-box;\n  background-color: #f5f6f7;\n  overflow: scroll;\n  z-index: 2;\n} */.menu-view[data-v-ba8c6f32]{display:inline-block;width:%?190?%;height:%?100?%;line-height:%?100?%;text-align:center}.menu-item[data-v-ba8c6f32]{line-height:%?90?%;height:%?90?%;text-align:center;border-bottom:%?2?% silid #e3e3e3;position:relative;color:#777;font-size:%?28?%;background:#fff}.menu-item.active[data-v-ba8c6f32]{color:#ec6817;font-size:%?28?%;font-weight:700;position:relative;background:#fff}.menu-item uni-text.tips-num[data-v-ba8c6f32]{position:absolute;top:%?20?%;right:%?15?%;border-radius:%?15?%;width:%?30?%;height:%?30?%;background:red;color:#fff;font-size:%?25?%;line-height:%?30?%}\n\n/* 右侧商品栏 */.rightcontent[data-v-ba8c6f32]{width:%?550?%;height:100%;box-sizing:border-box;background-color:#fff;z-index:1}.rightcontent .adver-map[data-v-ba8c6f32]{width:auto;box-sizing:border-box;overflow:hidden;position:relative;margin:%?30?% %?20?% 0}.rightcontent .adver-map .item-a[data-v-ba8c6f32]{display:block;font-size:0;width:100%}.rightcontent .adver-map .item-a uni-image[data-v-ba8c6f32]{max-width:100%}.rightcontent .cont-item[data-v-ba8c6f32]{padding:0 %?20?% %?20?% %?20?%;padding-bottom:%?94?%}.rightcontent .cont-item .show-item .more-prod-pic[data-v-ba8c6f32]{text-align:center;width:%?150?%;height:%?150?%;line-height:%?150?%;font-size:0}.rightcontent .cont-item .show-item .more-prod-pic .more-pic[data-v-ba8c6f32]{max-width:100%;max-height:100%;border-radius:%?8?%;vertical-align:middle}.rightcontent .cont-item .show-item[data-v-ba8c6f32]{position:relative;display:flex;justify-content:start;padding:%?20?% 0}.rightcontent .cont-item .show-item[data-v-ba8c6f32]::after{content:"";background-color:#f4f4f4;left:0;height:1px;-webkit-transform-origin:50% 100% 0;transform-origin:50% 100% 0;bottom:0;position:absolute;display:block;width:%?510?%;padding-left:%?20?%}.rightcontent .cont-item .show-item .prod-text-right[data-v-ba8c6f32]{margin-left:%?20?%;width:75%}.rightcontent .cont-item .show-item .prod-text-right .cate-prod-info[data-v-ba8c6f32]{font-size:%?22?%;color:#999;margin:%?10?% 0 %?20?% 0;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1;overflow:hidden}.rightcontent .cont-item .show-item .prod-text-right .prod-text.more[data-v-ba8c6f32]{margin:0;font-size:%?28?%;display:-webkit-box;word-break:break-all;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical;color:#000}.rightcontent .cont-item .show-item .prod-text-right .prod-price.more[data-v-ba8c6f32]{font-size:%?28?%;color:#ec6817;font-family:arial}\n\n/* 商品列表 */.hot-sale[data-v-ba8c6f32]{background-color:#fff;\n  /* margin: 15rpx 0; */display:grid;grid-template-columns:repeat(2,1fr); /* 两列 */margin-top:%?100?%}.hot-sale .prod-items[data-v-ba8c6f32]:nth-child(2n-1){margin:%?20?% %?20?% %?10?% %?20?%}.hot-sale .prod-items[data-v-ba8c6f32]:nth-child(2n){margin:%?20?% %?20?% %?10?% %?20?%}.prod-items .hot-text .hotprod-text[data-v-ba8c6f32]{font-size:%?28?%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.singal-price[data-v-ba8c6f32]{display:inline;font-size:%?20?%;text-decoration:line-through;color:#777;margin-left:%?15?%}\n\n/* 空 */.cont-item.empty[data-v-ba8c6f32]{display:block;font-size:%?24?%;padding-top:%?400?%;color:#aaa;text-align:center}.end-tip[data-v-ba8c6f32]{margin-top:%?10?%;text-align:center;font-size:%?24?%;margin-bottom:%?10?%;color:#999}\n\n/* \nuni-popup {\n  position: fixed;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  z-index: 998;\n  overflow: hidden;\n} */',""]),t.exports=e},f6bb:function(t,e,a){"use strict";a.r(e);var i=a("c74e"),o=a.n(i);for(var n in i)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(n);e["default"]=o.a},f729:function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,".prod-item[data-v-0a3cb05a]{display:flex;flex-direction:column;position:relative;\n  /* border-radius: 10rpx; */background:#fff;overflow:hidden\n\n  /* box-shadow: 0rpx 6rpx 8rpx rgba(58, 134, 185, 0.2); */}.prod-item .imagecont[data-v-0a3cb05a]{width:100%;height:70%;max-height:70%;background-size:cover;background-repeat:no-repeat;background-position:top}.prod-item .prod-text[data-v-0a3cb05a]{font-size:%?24?%;font-weight:600;height:8%;max-height:8%;overflow:hidden;margin:%?10?% 0;display:-webkit-box;word-break:break-all;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;color:#000;padding-bottom:%?10?%}.prod-item .prod-brief[data-v-0a3cb05a]{font-size:%?22?%;color:#999;white-space:nowrap;overflow:hidden;padding:0 %?10?%;padding-bottom:%?10?%;text-overflow:ellipsis}.prod-item .prod-price[data-v-0a3cb05a]{font-size:%?23?%;font-family:Arial}.prod-item .prod-price .big-num[data-v-0a3cb05a]{font-size:%?26?%;font-family:Arial}.prod-item .basket-img[data-v-0a3cb05a]{width:%?50?%;height:%?50?%;position:absolute;right:0;bottom:%?7?%;\n  /* border: 2rpx solid #EC6817;\n  border-radius: 50%; */padding:%?8?%}",""]),t.exports=e}}]);